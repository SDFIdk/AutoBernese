from pathlib import Path

from ab.qaqc.check_example import (
    FileCRD,
    LineCRD,
    extract_coordinates,
)


def test_LineCRD_substraction():
    a = LineCRD("_", 0.1, 0.1, 0.1, "")
    b = LineCRD("_", 0.05, 0.05, 0.05, "")
    result = b - a
    expected = LineCRD("_", -0.05, -0.05, -0.05, "")
    assert result.x == expected.x, f"Expected {result.x!r} to be {expected.x!r} ..."
    assert result.y == expected.y, f"Expected {result.y!r} to be {expected.y!r} ..."
    assert result.z == expected.z, f"Expected {result.z!r} to be {expected.z!r} ..."


def test_extract_coordinates():
    content = """\
RNX2SNX_20190440: Final coordinate/troposphere results           22-OCT-22 08:39
--------------------------------------------------------------------------------
LOCAL GEODETIC DATUM: IGb14             EPOCH: 2019-02-13 12:00:00

NUM  STATION NAME           X (M)          Y (M)          Z (M)     FLAG     SYSTEM

  1  ABMF 97103M001    2919785.78112 -5383744.96733  1774604.84656
  2  ABPO 33302M001    4097216.54693  4429119.18801 -2065771.19027
  3  ADE1 50109S001   -3939182.80897  3467075.36490 -3613219.87337
  4  ADE2 50109S001   -3939182.80897  3467075.36490 -3613219.87337
  5  ADIS 31502M001    4913652.58431  3945922.82025   995383.50071
  6  AJAC 10077M005    4696989.22431   723994.73571  4239678.70342
  7  ALBH 40129M003   -2341333.09849 -3539049.53286  4745791.25868
  8  ALGO 40104M002     918129.14804 -4346071.31996  4561977.90785
  9  ALIC 50137M001   -4052052.70110  4212835.98377 -2545104.63249
 10  ALRT 40162M001     388042.38232  -740382.45588  6302001.97559
 11  AMC2 40472S004   -1248596.40221 -4819428.20261  3976505.92428
 12  AOML 49914S001     982296.57759 -5664607.22593  2752614.53053
 13  AREQ 42202M005    1942826.27264 -5804070.35271 -1796894.12222
 14  AREV 42202M005    1942826.27433 -5804070.35781 -1796894.12288
 15  ARTU 12362M001    1843956.37579  3016203.23728  5291261.78473
 16  ASC1 30602M001    6118526.04523 -1572344.81428  -876450.91345
 17  ASCG 30602M004    6121151.56328 -1563978.94365  -872615.31302
 18  AUCK 50209M001   -5105681.51492   461563.99621 -3782181.02985
 19  BADG 12338M002    -838282.04428  3865777.32476  4987624.57606
 20  BAHR 24901M002    3633908.33508  4425275.67354  2799861.87069
 21  BARH 49927S001    1693644.61886 -4239067.58825  4439567.30675
 22  BHR1 24901M002    3633908.33163  4425275.67545  2799861.87304
 23  BHR2 24901M002    3633908.33163  4425275.67545  2799861.87304
 24  BHR4 24901S002    3633910.16989  4425277.87043  2799863.27441
 25  BILI 12363M001   -2321893.37161   560096.78946  5894691.68571
 26  BJCO 32701M001    6333076.44608   270973.75329   704552.25286
 27  BJFS 21601M001   -2148744.52848  4426641.17195  4044655.81410
 28  BJNM 21616M001   -2154287.75632  4373439.98638  4098885.60015
 29  BOR1 12205M002    3738358.21468  1148173.93010  5021815.89045
 30  BRAZ 41606M001    4115014.06982 -4550641.63760 -1741443.78481
 31  BREW 40473M001   -2112007.35314 -3705351.82471  4726827.04048
 32  BRFT 41602M002    4985393.49700 -3954993.47457  -428426.52967
 33  BRMU 42501S004    2304703.28358 -4874817.17037  3395187.04839
 34  BRST 10004M004    4231162.41406  -332746.42860  4745131.07222    W      GR
 35  BRUS 13101M004    4027893.55814   307046.06797  4919475.27127
 36  BRUX 13101M010    4027881.38629   306998.72944  4919499.01120
 37  BSHM 20705M001    4395951.17015  3080707.23231  3433498.26723
 38  BUCU 11401M001    4093760.62661  2007794.05377  4445130.11421
 39  CAGL 12725M003    4893378.62826   772650.06230  4004182.33490
 40  CAGZ 12725M004    4893379.78191   772650.75485  4004180.20562
 41  CAS1 66011M001    -901776.13464  2409383.23334 -5816748.53123
 42  CEDU 50138M001   -3753473.15963  3912741.02691 -3347959.73989
 43  CFAG 41517S001    2016584.95550 -5050165.69172 -3323308.63446
 44  CHAN 21611M002   -2674427.63614  3757143.08084  4391521.53209
 45  CHAT 50207M001   -4590671.46925  -275482.13362 -4404596.23931
 46  CHPI 41609M003    4164613.89994 -4162456.97423 -2445028.64184
 47  CHTI 50242M001   -4607856.20993  -272375.38292 -4386954.20170
 48  CHUM 25601M001    1228950.40872  4508079.99031  4327868.53219
 49  CHUR 40128M002    -236439.12839 -3307616.94588  5430049.32864
 50  CKIS 50213M003   -5583182.63107 -2054142.77735 -2292166.23928
 51  CNMR 50512M001   -5087757.72933  3465029.04525  1664653.86256
 52  COCO 50127M001    -741951.03747  6190961.71143 -1337767.42373
 53  CONX 41719M002    1492004.64274 -4887911.27241 -3803640.14224
 54  CONZ 41719M002    1492004.64274 -4887911.27241 -3803640.14224
 55  CRAO 12337M002    3783896.81406  2551404.62984  4441264.40299
 56  CRO1 43201M001    2607771.32750 -5488076.56886  1932767.95833
 57  CUSV 21904S001   -1132914.96313  6092528.53583  1504633.18004
 58  DAEJ 23902M002   -3120042.39405  4084614.69161  3764026.79383
 59  DAKR 34108M001    5886533.48501 -1849181.45232  1610300.55948
 60  DARR 50134M001   -4091359.58287  4684606.43394 -1408579.17465
 61  DARW 50134M001   -4091359.58287  4684606.43394 -1408579.17465
 62  DAV1 66010M001     486854.58405  2285099.17618 -5914955.71201
 63  DAVR 66010M001     486854.58405  2285099.17618 -5914955.71201
 64  DGAR 30802M001    1916268.80633  6029977.70888  -801719.44469
 65  DGAV 30802M001    1916268.80463  6029977.70827  -801719.44472
 66  DRAG 20710S001    4432980.36824  3149432.28588  3322110.72462
 67  DRAO 40105M002   -2059165.01761 -3621108.40503  4814432.23244
 68  DUBO 40137M001    -417603.94412 -4064529.83410  4881432.13082
 69  DUM1 91501M001   -1940883.73244  1628483.06321 -5833718.12162
 70  EBRE 13410M001    4833519.98843    41537.38493  4147461.71139
 71  EISL 41703M003   -1884950.30924 -5357596.27363 -2892890.60971
 72  FAA1 92201M012   -5247393.60306 -3076866.45841 -1911521.05165
 73  FAIR 40408M001   -2281621.95237 -1453595.96195  5756961.69899
 74  FALK 80602M001    2106811.39576 -3355170.74748 -4981786.23381
 75  FLIN 40135M001    -766174.82979 -3611375.36993  5184056.20843
 76  FLRS 31907M001    4221529.91942 -2549242.32448  4031398.42508
 77  FORT 41602M001    4985386.58596 -3954998.67579  -428426.20160
 78  FUNC 13911S001    5143339.21251 -1563412.52080  3421191.77461
 79  GANP 11515M001    3929181.29066  1455236.95118  4793654.03358    W      GR
 80  GLPS 42005M002     -33800.94236 -6377516.51604   -82154.23818
 81  GLSV 12356M001    3512888.67590  2068980.08075  4888903.31928
 82  GMAS 31303S004    5439112.50680 -1522134.71900  2953556.38345
 83  GODE 40451M123    1130773.53217 -4831253.57036  3994200.45666
 84  GODZ 40451M123    1130773.53205 -4831253.57166  3994200.45669
 85  GOL2 40405S031   -2353614.54467 -4641385.24056  3676976.38190
 86  GOLD 40405S031   -2353614.54501 -4641385.24137  3676976.38277
 87  GOUG 30608M001    4795578.87426  -835299.11728 -4107633.73890
 88  GRAS 10002M006    4581690.70521   556115.10200  4389360.95557
 89  GRAZ 11001M002    4194423.57507  1162702.94538  4647245.56004
 90  GUAM 50501M002   -5071312.66408  3568363.63253  1488904.39878
 91  GUAO 21612M003     228378.54921  4631946.89966  4367028.55574
 92  GUAT 40901S001     -56063.53158 -6174978.64154  1596665.29038
 93  GUUG 82301M001   -5070465.16968  3576460.29962  1472093.83762
 94  HARB 30302M009    5084657.60983  2670325.38624 -2768480.91510
 95  HERS 13212M007    4033469.91095    23673.12332  4924301.44708
 96  HERT 13212M010    4033460.73844    23538.03734  4924318.40108    W      GR
 97  HLFX 40120M001    2018905.53846 -4069070.51522  4462415.49615
 98  HNLC 49970S001   -5506798.90422 -2240048.64805  2302720.87006
 99  HOB2 50116M004   -3950072.21840  2522415.35828 -4311637.44420
100  HOFN 10204M002    2679689.93071  -727950.99821  5722789.54136
101  HOLB 40130M001   -2503040.74247 -3188233.33088  4908701.42439
102  HOLM 40148M001    -983072.28836 -1867623.69597  5998639.53305
103  HRAO 30302M004    5085352.44128  2668396.11219 -2768731.30393
104  HYDE 22307M001    1208443.98467  5966805.98774  1897077.35131
105  IISC 22306M002    1337935.84470  6070317.12189  1427877.26784
106  INVK 40150M001   -1628432.39106 -1714393.08244  5903844.59879
107  IQAL 40194M001    1036000.84051 -2631455.59502  5697819.74786
108  IRKM 12313M001    -968332.76443  3794425.39710  5018167.68276
109  IRKT 12313M001    -968332.76454  3794425.39502  5018167.68040
110  ISBA 20308M001    3808364.56682  3734430.20951  3485693.70751
111  ISPA 41703M007   -1881702.76027 -5359979.98849 -2890599.31056
112  JOZ2 12204M002    3664880.31787  1409190.80540  5009618.59361    A      GR
113  JOZE 12204M001    3664939.90260  1409154.07656  5009571.49703
114  KARR 50139M001   -2713833.23319  5303935.10773 -2269513.79974
115  KAT1 59968M001   -4147413.78836  4581462.59747 -1573359.13209
116  KELY 43005M002    1575558.81929 -1941827.99799  5848076.62398
117  KERG 91201M002    1406337.19929  3918161.09578 -4816167.38347
118  KIRI 50305M001   -6327822.32540   785605.11840   149769.52456
119  KIRU 10403M002    2251420.55884   862817.37297  5885476.85825
120  KIT3 12334M001    1944944.75745  4556652.33707  4004326.04851
121  KOKB 40424M004   -5543838.32292 -2054585.86555  2387810.41368
122  KOKV 40424M004   -5543838.32531 -2054585.86656  2387810.41505
123  KOSG 13504M003    3899224.91654   396732.17051  5015078.55776
124  KOUG 97301M402    3855263.30202 -5049732.01033   563040.51840
125  KOUR 97301M210    3839591.33187 -5059567.58597   579957.21735
126  KRGG 91201M007    1406336.18227  3918154.60084 -4816172.88173
127  KWJ1 50506M001   -6160880.53891  1339884.42238   960811.10035
128  LAMA 12209M001    3524522.66380  1329693.83630  5129846.46546    A      GR
129  LAUT 50804M002   -6075194.67011   270923.76391 -1917189.07714
130  LHAS 21613M001    -106938.67434  5549269.40703  3139216.07067
131  LHAZ 21613M002    -106942.09906  5549269.77206  3139215.20214
132  LMMF 97205M001    2993387.38940 -5399363.83458  1596748.15172
133  LPAL 81701M001    5326646.22013 -1719826.00374  3052043.90257
134  LPGS 41510M001    2780102.99464 -4437419.02635 -3629404.37208
135  LROC 10023M001    4424632.39868   -94174.96731  4577544.24287
136  MAC1 50135M001   -3464038.87344  1334173.20356 -5169223.90044
137  MAL2 33201M003    4865385.45434  4110717.47068  -331137.39374
138  MALI 33201M001    4865366.09504  4110737.86636  -331121.33446
139  MAR6 10405M002    2998189.22197   931451.97910  5533398.86946
140  MAS1 31303M002    5439192.15036 -1522055.22685  2953455.05835
141  MAT1 12734M009    4641951.18611  1393053.92702  4133281.06823
142  MATE 12734M008    4641949.28436  1393045.69094  4133287.66232    W      GR
143  MAUI 40445S008   -5466069.06672 -2404327.20108  2242127.89306
144  MAW1 66004M001    1111287.21032  2168911.19361 -5874493.59713
145  MBAR 33901M001    5482951.13782  3260442.84716   -66519.62949
146  MCIL 21789S001   -5227187.55126  2551881.20811  2607618.25469
147  MCM4 66001M003   -1311703.04584   310814.83443 -6213255.13971
148  MDO1 40442M012   -1329998.95088 -5328393.36236  3236504.08857
149  MDVJ 12309M005    2845455.77328  2160954.41374  5265993.30935
150  MDVO 12309M002    2844671.78757  2161070.34565  5266363.96447
151  MEDI 12711M003    4461400.48391   919593.84611  4449504.92752
152  METS 10503S011    2892570.54179  1311843.64304  5512634.26116
153  MIKL 12335M001    3698553.70107  2308676.22785  4639769.61754    A      GR
154  MKEA 40477M001   -5464105.39329 -2495165.50277  2148291.63483
155  MOBS 50182M001   -4130636.72726  2894953.13518 -3890530.28048
156  MONP 40497M004   -2386247.54381 -4802359.01665  3444902.44017
157  MQZG 50214M001   -4580569.79076   590466.31333 -4384379.70757
158  MR6G 10405M002    2998189.22197   931451.97910  5533398.86946
159  NAIN 40164M001    1671836.39919 -3103473.32732  5297671.34824
160  NAMA 20103M001    4476294.68793  4036794.78878  2086353.41376
161  NANO 40138M001   -2335726.96471 -3451608.35520  4812009.88589
162  NAUR 50701M001   -6212554.90398  1442787.60789   -61006.34436
163  NICO 14302M001    4359415.45449  2874117.22149  3650778.00358
164  NIST 49507M002   -1288398.51675 -4721696.92438  4078625.34751
165  NISU 49507M001   -1288363.85572 -4721684.20703  4078659.30057
166  NIUM 50210M001   -5937160.90159 -1054675.22012 -2071386.02138
167  NKLG 32809M002    6287385.70657  1071574.84045    39133.17701
168  NLIB 40465M001    -130934.82576 -4762291.69417  4226854.61052
169  NNOR 50181M001   -2414152.34280  4907778.62766 -3270644.24549
170  NOT1 12717M004    4934545.97348  1321265.25518  3806456.33004
171  NOUM 92701M003   -5739971.97282  1387563.30686 -2402122.58046
172  NOVM 12367M002     452260.72892  3635877.59086  5203453.32551
173  NRC1 40114M001    1112776.97296 -4341475.89954  4522955.87313
174  NRIL 12364M001      64536.87431  2253782.90539  5946363.50930
175  NRMD 92701M005   -5743538.10126  1380503.88295 -2397896.05231
176  NRMG 92701M005   -5743538.10126  1380503.88295 -2397896.05231
177  NURK 34001M001    5516756.44809  3196625.03707  -215027.07279
178  NYA1 10317M003    1202433.63437   252632.39534  6237772.73628
179  NYAL 10317M001    1202430.32853   252626.81228  6237767.76493
180  OHI2 66008M005    1525812.12887 -2432478.22947 -5676165.54742
181  OHI3 66008M006    1525809.29683 -2432478.74151 -5676166.24410
182  OHIG 66008M001    1525872.89272 -2432481.34739 -5676146.06959
183  OHIX 66008M006    1525809.29683 -2432478.74151 -5676166.24410
184  ONSA 10402M004    3370658.33969   711877.34239  5349787.09683    W      GR
185  ORID 15601M001    4498451.46877  1708267.25942  4173591.98769    A      GR
186  OS0G 10402M004    3370658.33743   711877.34221  5349787.09396
187  OSN1 23904S001   -3067863.57998  4067640.82550  3824295.62772
188  OSN2 23904S001   -3067863.57998  4067640.82550  3824295.62772
189  OUS2 50212M002   -4387891.04910   733420.93386 -4555176.03504
190  PARC 41716S001    1255992.54652 -3622975.22615 -5079719.15259
191  PDEL 31906M004    4551595.88710 -2186892.89321  3883411.00561
192  PERT 50133M001   -2368687.99786  4881316.68286 -3341795.01666
193  PIE1 40456M001   -1640917.09801 -5014781.19094  3575447.01672
194  POHN 51601M001   -5879158.27789  2350292.71018   767748.58593
195  POL2 12348M001    1239970.97968  4530790.14991  4302578.86431
196  POLV 12336M001    3411557.04526  2348464.15700  4834396.98176
197  POTS 14106M003    3800689.40973   882077.61114  5028791.45508
198  PRDS 40124M001   -1659603.21088 -3676725.78493  4925493.45221
199  PRE1 30310S001    5066232.03545  2719227.28863 -2754392.38746
200  PRE2 30310S001    5066232.03545  2719227.28863 -2754392.38746
201  PTBB 14234M001    3844059.74082   709661.54486  5023129.68773    A      G
202  QAQ1 43007M001    2170941.84193 -2251830.03016  5539988.49493
203  QIKI 40166M001    1069080.99722 -2195214.23147  5872519.11197
204  QUIN 40433M004   -2517231.43150 -4198594.96957  4076531.16751
205  RABT 35001M002    5255617.55282  -631745.44247  3546322.75313
206  RAMO 20703S001    4514721.55516  3133508.03611  3228024.95172
207  RCMN 33203M001    5101056.55495  3829074.48602  -135016.09920
208  RECF 41617M001    5176588.58696 -3618162.20901  -887363.66524
209  RESO 40149M001    -144107.88429 -1683119.85676  6129763.34336
210  REUN 97401M003    3364098.93034  4907944.64988 -2293466.69603
211  RIGA 12302M002    3183898.93991  1421478.69330  5322810.91047
212  RIO2 41507M006    1429907.88021 -3495354.93463 -5122698.52432
213  RIOG 41507M004    1429907.89828 -3495354.94566 -5122698.56107
214  SALU 41640M001    4566947.85291 -4443098.55338  -286674.56358
215  SANT 41705M003    1769693.42485 -5044574.28644 -3468320.89083
216  SAVO 41643M001    4870283.74757 -3864605.36897 -1418872.38188
217  SCH2 40133M002    1448636.54322 -3385243.79173  5191047.23354
218  SCOR 43006M002    1982095.78738  -798821.01882  5989464.65974
219  SCUB 40701M001    1474538.00256 -5811243.26434  2168958.88618
220  SEYG 39801M004    3597835.90344  5240884.09418  -516780.96291
221  SFER 13402M004    5105518.89806  -555145.63388  3769803.58190
222  SHAO 21605M002   -2831733.94063  4675665.76781  3275369.26046
223  SOFI 11101M002    4319371.83979  1868688.03904  4292064.05295
224  STHL 30606M003    6104817.25558  -605827.82597 -1740738.69571
225  STJO 40101M001    2612630.83837 -3426807.05013  4686757.99432
226  SUTH 30314M002    5041274.89630  1916054.42472 -3397075.71205
227  SUTM 30314M004    5041190.26331  1916067.40934 -3397189.17454
228  SUTV 30314M002    5041274.89630  1916054.42472 -3397075.71205
229  SUWN 23903M001   -3062023.27161  4055447.81432  3841818.13044
230  SYDN 50124M003   -4648240.83350  2560636.44849 -3526317.83265
231  SYOG 66006S002    1766207.93279  1460290.31562 -5932297.65417
232  TAEJ 23902M001   -3120423.50336  4086355.19448  3761769.39179
233  TAH1 92201S011   -5246404.52636 -3077284.57778 -1913838.82388
234  TAH2 92201S011   -5246404.52636 -3077284.57778 -1913838.82388
235  TASH 12327M001    1695944.82274  4487138.65169  4190140.74564
236  TCMS 23604S002   -2982783.34072  4966659.91248  2658809.32264
237  TEHN 20404M002    3240498.90942  4049740.44509  3701663.29231
238  THTI 92201M009   -5246416.11209 -3077259.28975 -1913841.74365
239  THU2 43001M002     538093.23162 -1389088.11974  6180979.34115
240  THU3 43001M002     538093.23181 -1389088.12000  6180979.34224
241  TID1 50103M108   -4460996.92879  2682557.08396 -3674442.67507
242  TID2 50103M108   -4460996.92729  2682557.08331 -3674442.67420
243  TIDB 50103M108   -4460996.92729  2682557.08331 -3674442.67420
244  TIXG 12360M001   -1264873.47810  1569455.75463  6031003.38701
245  TIXI 12360M001   -1264873.47810  1569455.75463  6031003.38701
246  TLSE 10003M009    4627851.65710   119640.28916  4372993.71197    W      GR
247  TNML 23604S001   -2982779.52671  4966662.44984  2658805.59248
248  TOUL 10003M004    4627845.85118   119629.59700  4372999.98969
249  TOW2 50140M001   -5054583.36880  3275504.12121 -2091538.51638
250  TRAB 20808M001    3705250.04049  3084421.88832  4162044.91572
251  TRO1 10302M006    2102928.23640   721619.59380  5958196.37128
252  TROM 10302M003    2102939.94776   721569.59399  5958192.27650
253  TUVA 51101M001   -6307543.79553    88455.30201  -939277.62106
254  UFPR 41610M002    3763751.68319 -4365113.93728 -2724404.49194
255  UNB3 40146M002    1761287.88513 -4078238.51610  4561417.79922
256  UNBJ 40146M002    1761287.88513 -4078238.51610  4561417.79922
257  UNBN 40146M002    1761287.88513 -4078238.51610  4561417.79922
258  UNBT 40146M002    1761287.88513 -4078238.51610  4561417.79922
259  UNSA 41514M001    2412830.46845 -5271936.78202 -2652208.87861
260  USN3 40451S007    1112161.91649 -4842853.53692  3985496.04778
261  USN4 40451S007    1112161.91649 -4842853.53692  3985496.04778
262  USN5 40451S007    1112161.91649 -4842853.53692  3985496.04778
263  USNO 40451S003    1112189.55820 -4842955.03004  3985352.29733
264  UZHL 12301M001    3907587.20574  1602428.92396  4763783.88116
265  VACS 39003M001    3215946.91833  5047449.75292 -2198718.16629
266  VESL 66009M001    2009329.92756   -99741.48459 -6033158.38420
267  VILL 13406M001    4849833.56393  -335048.75387  4116015.11374    A      GR
268  VNDP 40420M007   -2678090.56166 -4525436.89942  3597431.98346
269  WES2 40440S020    1492233.03637 -4458089.50266  4296046.08817
270  WHIT 40136M001   -2218338.18686 -2201205.12933  5543057.47246
271  WILL 40134M001   -2084258.39249 -3313873.00521  5019852.96295
272  WIND 31101M001    5633708.78691  1732018.01307 -2433985.51960
273  WSRT 13506M005    3828735.64723   443305.18247  5064884.85379    W      GR
274  WTZR 14201M010    4075580.31702   931854.03822  4801568.26811    W      GR
275  WTZZ 14201M014    4075579.19741   931853.35396  4801569.17490    A      GR
276  WUHN 21602M001   -2267749.89183  5009154.15803  3221290.56323
277  XMIS 50183M001   -1696344.71836  6039590.00443 -1149275.13048
278  YAKT 12353M002   -1914999.25316  2308241.45234  5610225.48716
279  YAR1 50107M004   -2389026.57561  5043317.03500 -3078529.59433
280  YAR2 50107M004   -2389026.57379  5043317.04548 -3078529.59827
281  YEBE 13420M001    4848724.56678  -261631.93698  4123094.32547
282  YELL 40127M003   -1224452.95848 -2689216.20722  5633638.28642
283  YIBL 25001M001    3294552.25221  4905092.55051  2393580.10325
284  YSSK 12329M003   -3465321.17726  2638269.28978  4644085.30520
285  ZAMB 34601M001    5415352.95019  2917210.17749 -1685888.61725
286  ZECK 12351M001    3451174.38816  3060335.63529  4391955.77498
287  ZIM2 14001M008    4331299.67713   567537.57720  4633133.87838    W      GR
288  ZIM3 14001M008    4331299.67664   567537.57636  4633133.87607
289  ZIMM 14001M004    4331296.86583   567556.13139  4633134.09708    W      G
"""
    result = extract_coordinates(content)
    expected = FileCRD(
        title="RNX2SNX_20190440",
        date="22-OCT-22 08:39",
        coordinates=[
            LineCRD("BRST", 4231162.41406, -332746.42860, 4745131.07222, "W"),
            LineCRD("GANP", 3929181.29066, 1455236.95118, 4793654.03358, "W"),
            LineCRD("HERT", 4033460.73844, 23538.03734, 4924318.40108, "W"),
            LineCRD("JOZ2", 3664880.31787, 1409190.80540, 5009618.59361, "A"),
            LineCRD("LAMA", 3524522.66380, 1329693.83630, 5129846.46546, "A"),
            LineCRD("MATE", 4641949.28436, 1393045.69094, 4133287.66232, "W"),
            LineCRD("MIKL", 3698553.70107, 2308676.22785, 4639769.61754, "A"),
            LineCRD("ONSA", 3370658.33969, 711877.34239, 5349787.09683, "W"),
            LineCRD("ORID", 4498451.46877, 1708267.25942, 4173591.98769, "A"),
            LineCRD("PTBB", 3844059.74082, 709661.54486, 5023129.68773, "A"),
            LineCRD("TLSE", 4627851.65710, 119640.28916, 4372993.71197, "W"),
            LineCRD("VILL", 4849833.56393, -335048.75387, 4116015.11374, "A"),
            LineCRD("WSRT", 3828735.64723, 443305.18247, 5064884.85379, "W"),
            LineCRD("WTZR", 4075580.31702, 931854.03822, 4801568.26811, "W"),
            LineCRD("WTZZ", 4075579.19741, 931853.35396, 4801569.17490, "A"),
            LineCRD("ZIM2", 4331299.67713, 567537.57720, 4633133.87838, "W"),
            LineCRD("ZIMM", 4331296.86583, 567556.13139, 4633134.09708, "W"),
        ],
    )
    assert (
        result.title == expected.title
    ), f"Expected {result.title!r} to be {expected.title!r} ..."
    assert (
        result.date == expected.date
    ), f"Expected {result.date!r} to be {expected.date!r} ..."
    for result_line, expected_line in zip(result.coordinates, expected.coordinates):
        assert (
            result_line.x == expected_line.x
        ), f"Expected {result_line.x!r} to be {expected_line.x!r} ..."
        assert (
            result_line.y == expected_line.y
        ), f"Expected {result_line.y!r} to be {expected_line.y!r} ..."
        assert (
            result_line.z == expected_line.z
        ), f"Expected {result_line.z!r} to be {expected_line.z!r} ..."
        assert (
            result_line.flag == expected_line.flag
        ), f"Expected {result_line.flag!r} to be {expected_line.flag!r} ..."
