# local: &local __ab__

# Bernese GNSS Software [BSW] environment variables available after 'source'ing
# the shell script` LOADGPS.setvar` in the root of the installation directory.
bsw_env:

  # Installation directory
  C: &C !ENV [C, .]

  # Bernese program panels
  PAN: &PAN !ENV [PAN, .]

  # Global model files used by Bernese programs
  MODEL: &MODEL !ENV [MODEL, .]

  # Global configuration file used by Bernese programs
  CONFIG: &CONFIG !ENV [CONFIG, .]

  # DATAPOOL directory
  D: &D !ENV [D, .]

  # CAMPAIGN directory
  P: &P !ENV [P, .]

  # User directory
  U: &U !ENV [U, .]

# Autobernese runtime environment
environment:
  env_root: &env_root !Parent [*C]
  ab_root: &ab_root !Path [*env_root, autobernese]
  logging:
    filename: !Path [*ab_root, autobernese.log]
    format: '%(asctime)s | %(levelname)s | %(name)s | %(message)s'
    datefmt: '%Y-%m-%d %H:%M:%S'
    style: '%'
    level: DEBUG

  # system_user_root: !Path [*ab_root, system_user]
  # state: !Path [*ab_root, state.yaml]
  # datafiles:
  #   sources: !Path [*ab_root, sources.yaml]

common:
- &sitelogs !Path [*D, sitelogs]
- &station !Path [*D, station]

station:
  sitelogs: # !Path [*sitelogs, '*.log']
  - !Path [*sitelogs, esbc*.log]
  - !Path [*sitelogs, fer5*.log]
  - !Path [*sitelogs, fyha*.log]
  - !Path [*sitelogs, gesr*.log]
  - !Path [*sitelogs, haby*.log]
  - !Path [*sitelogs, hirs*.log]
  - !Path [*sitelogs, tejh*.log]
  - !Path [*sitelogs, mojn*.log]
  - !Path [*sitelogs, skej*.log]
  - !Path [*sitelogs, riko*.log]
  - !Path [*sitelogs, fyno*.log]
  - !Path [*sitelogs, esh5*.log]
  - !Path [*sitelogs, grej*.log]

  individually_calibrated: [BUDD, MOJN, RIKO]

  filename_sta: !Path [*station, sitelogs.STA]

campaign:

  menu: !Path [*PAN, MENU_CMP.INP]

  types:

    default:
      name: Default campaign

      sites_needed: [
        # IGS
        OSLS, STAS, SMID, SULD,
        BUDP, BOR1, MAR6, ONSA,
        POTS, RIGA, SPT0, VIS0,
        WSRT, WTZR,

        # Local
        ESBC, ESBH, FER5, FYHA,
        GESR, HABY, HIRS, SMI2,
        SUL5, TEJH, MOJN, BUDD,
        SKEJ, RIKO, FYNO, ESH5,
        GREJ
      ]

    nkg:
      name: NKG

      # Til STA
      IGS_stations:
      - ABCD
      - EFGF

      # Til STA
      COR_stations:
      - sadf
      - fdsa

sources:

# - name: EUREF STA file
#   url: ftp://epncb.oma.be/pub/station/general/EUREF52.STA
#   destination: !Path [*D, REF54]

- name: EUREF STA file
  url: ftp://epncb.oma.be/pub/station/general/EUREF52.STA
  destination: *station

- name: BSW Model data
  url: ftp://ftp.aiub.unibe.ch/BSWUSER54/MODEL/
  destination: *MODEL
  # TODO: Remove debug path
  # destination: !Path [., __ab__/MODEL]

- name: BSW Configuration data
  url: ftp://ftp.aiub.unibe.ch/BSWUSER54/CONFIG/
  destination: *CONFIG

# - name: EPN
#   url: ftp://epncb.oma.be
#   destination:

# - name: AIUB
#   url: ftp://ftp.aiub.unibe.ch
#   destination:

# - name: SDFI
#   url: ftp://ftp.sdfe.dk
#   destination:
