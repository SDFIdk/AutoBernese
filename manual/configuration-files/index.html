<!DOCTYPE html><html lang="en" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Joachim Mortensen">
      
      
      
        <link rel="prev" href="../command-reference/">
      
      
        <link rel="next" href="../download-sources/">
      
      
      <link rel="icon" href="../../assets/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Configuration files - GNSS-Process Automation with Bernese GNSS Software</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e53b48f4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../stylesheets/asciinema-player.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#core-configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="GNSS-Process Automation with Bernese GNSS Software" class="md-header__button md-logo" aria-label="GNSS-Process Automation with Bernese GNSS Software" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            GNSS-Process Automation with Bernese GNSS Software
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuration files
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/SDFIdk/AutoBernese" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    AutoBernese
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="GNSS-Process Automation with Bernese GNSS Software" class="md-nav__button md-logo" aria-label="GNSS-Process Automation with Bernese GNSS Software" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    GNSS-Process Automation with Bernese GNSS Software
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/SDFIdk/AutoBernese" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    AutoBernese
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    User manual
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            User manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install-autobernese/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install AutoBernese
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quick-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick start
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../command-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Command-line reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Configuration files
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Configuration files
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Core configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bsw-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      BSW environment variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#files-used-by-autobernese" class="md-nav__link">
    <span class="md-ellipsis">
      Files used by AutoBernese
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runtime-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Runtime settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-overridable" class="md-nav__link">
    <span class="md-ellipsis">
      Settings overridable
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Common configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#campaign-directory-structure-for-new-campaigns" class="md-nav__link">
    <span class="md-ellipsis">
      Campaign-directory structure for new campaigns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troposphere-data-directory-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Troposphere data directory structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-source-specification-and-local-directory-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Data-source specification and local directory structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#station-site-log-files-to-use-for-sta-file-creation" class="md-nav__link">
    <span class="md-ellipsis">
      Station site-log files to use for STA-file creation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#campaign-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Campaign configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Campaign configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-new-campaign-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a new campaign configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-metadata-section" class="md-nav__link">
    <span class="md-ellipsis">
      The metadata section
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-environment-section" class="md-nav__link">
    <span class="md-ellipsis">
      The environment section
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-tasks-section" class="md-nav__link">
    <span class="md-ellipsis">
      The tasks section
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The tasks section">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#execution-order" class="md-nav__link">
    <span class="md-ellipsis">
      Execution order
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-task-definition" class="md-nav__link">
    <span class="md-ellipsis">
      The task definition
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-sources-section" class="md-nav__link">
    <span class="md-ellipsis">
      The sources section
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-clean-section" class="md-nav__link">
    <span class="md-ellipsis">
      The clean section
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#campaign-templates" class="md-nav__link">
    <span class="md-ellipsis">
      Campaign templates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes-on-python-string-templates-in-yaml-documents" class="md-nav__link">
    <span class="md-ellipsis">
      Notes on Python-string templates in YAML documents
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Notes on Python-string templates in YAML documents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#caveats-on-difference-between-template-strings-and-f-string-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Caveats on difference between Template strings and f string syntax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clash-with-the-the-yaml-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Clash with the the YAML syntax
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../download-sources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Download sources
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3">
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/contribute/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contribute
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/system-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prerequisites
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    References
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Core configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bsw-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      BSW environment variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#files-used-by-autobernese" class="md-nav__link">
    <span class="md-ellipsis">
      Files used by AutoBernese
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runtime-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Runtime settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-overridable" class="md-nav__link">
    <span class="md-ellipsis">
      Settings overridable
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Common configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#campaign-directory-structure-for-new-campaigns" class="md-nav__link">
    <span class="md-ellipsis">
      Campaign-directory structure for new campaigns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troposphere-data-directory-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Troposphere data directory structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-source-specification-and-local-directory-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Data-source specification and local directory structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#station-site-log-files-to-use-for-sta-file-creation" class="md-nav__link">
    <span class="md-ellipsis">
      Station site-log files to use for STA-file creation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#campaign-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Campaign configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Campaign configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-new-campaign-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a new campaign configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-metadata-section" class="md-nav__link">
    <span class="md-ellipsis">
      The metadata section
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-environment-section" class="md-nav__link">
    <span class="md-ellipsis">
      The environment section
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-tasks-section" class="md-nav__link">
    <span class="md-ellipsis">
      The tasks section
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The tasks section">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#execution-order" class="md-nav__link">
    <span class="md-ellipsis">
      Execution order
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-task-definition" class="md-nav__link">
    <span class="md-ellipsis">
      The task definition
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-sources-section" class="md-nav__link">
    <span class="md-ellipsis">
      The sources section
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-clean-section" class="md-nav__link">
    <span class="md-ellipsis">
      The clean section
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#campaign-templates" class="md-nav__link">
    <span class="md-ellipsis">
      Campaign templates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes-on-python-string-templates-in-yaml-documents" class="md-nav__link">
    <span class="md-ellipsis">
      Notes on Python-string templates in YAML documents
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Notes on Python-string templates in YAML documents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#caveats-on-difference-between-template-strings-and-f-string-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Caveats on difference between Template strings and f string syntax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clash-with-the-the-yaml-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Clash with the the YAML syntax
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Configuration files</h1>

<p>AutoBernese uses configuration files to integrate with Bernese, have
customisable shared settings and defaults, as well as campaign-specific
settings.</p>
<p>The active configuration files are read into AutoBernese in the following order,
each file overriding the previous, when merging is possible: 1) core
functionality and default settings, 2) common user-defined settings and
defaults, and 3) campaign-specific settings, created anew or from a template
based on a previous campaign. The campaign-specific settings are only read, when
working with a campaign.</p>
<p>In addition, AutoBernese also has a template system that enables users to set up
re-usable campaign settings for common <em>campaign types</em> and use these templates
to create new campaigns.</p>
<p>The different types of configuration are shown in the table below:</p>
<table>
<thead>
<tr>
<th>Configuration</th>
<th>File</th>
<th>Location</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>Core</td>
<td><code>core.yaml</code></td>
<td>Inside the package</td>
<td>Integrate with activated Bernese environment and provide core and default settings.</td>
</tr>
<tr>
<td>Common</td>
<td><code>autobernese.yaml</code></td>
<td>AutoBernese runtime directory</td>
<td>Contain common data sources, campaign-creation setup and station sitelog settings.</td>
</tr>
<tr>
<td>Campaign</td>
<td><code>campaign.yaml</code></td>
<td>Campaign directory</td>
<td>Campaign-specific environment, data sources and actions</td>
</tr>
<tr>
<td>Campaign template</td>
<td><code>&lt;campaign-type&gt;.yaml</code></td>
<td><code>templates</code> directory in AutoBernese runtime directory</td>
<td>Have pre-set campaign configuration for campaigns of the same type.</td>
</tr>
</tbody>
</table>
<p>The configuration files are in <a href="https://yaml.org/">YAML</a> format, and how AutoBernese use it is
explained in the examples given below together with the required and permitted
content of each file.</p>
<h2 id="core-configuration">Core configuration<a class="headerlink" href="#core-configuration" title="Permanent link">¶</a></h2>
<p>The core configuration file makes the integration with Bernese possible, and
establishes the location of the AutoBernese runtime directory for log data and
files shared by the users of the given Bernese installation. It is built in to
the package, and the user is not supposed to edit this file. Its contents are
explained here, since the two user-edited configuration types are meant to
utilise YAML features to re-use values in this file.</p>
<p>The overall structure of the core configuration file looks like this.</p>
<div class="highlight"><span class="filename">Main sections of the core configuration</span><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nt">bsw_env</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="nt">bsw_files</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="s">''</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="nt">runtime</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="nt">campaign</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span>
</code></pre></div>
<p>Each section is explained below.</p>
<h3 id="bsw-environment-variables">BSW environment variables<a class="headerlink" href="#bsw-environment-variables" title="Permanent link">¶</a></h3>
<p>Inside the <code>bsw_env</code> section are key-value pairs whose values are the names of
relevant environment variables set by the <code>LOADGPS.setvar</code> script. The extracted
values are made available for re-use in other parts of the configuration.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span>
<span class="normal"><a href="#__codelineno-1-17">17</a></span>
<span class="normal"><a href="#__codelineno-1-18">18</a></span>
<span class="normal"><a href="#__codelineno-1-19">19</a></span>
<span class="normal"><a href="#__codelineno-1-20">20</a></span>
<span class="normal"><a href="#__codelineno-1-21">21</a></span>
<span class="normal"><a href="#__codelineno-1-22">22</a></span>
<span class="normal"><a href="#__codelineno-1-23">23</a></span>
<span class="normal"><a href="#__codelineno-1-24">24</a></span>
<span class="normal"><a href="#__codelineno-1-25">25</a></span>
<span class="normal"><a href="#__codelineno-1-26">26</a></span>
<span class="normal"><a href="#__codelineno-1-27">27</a></span>
<span class="normal"><a href="#__codelineno-1-28">28</a></span>
<span class="normal"><a href="#__codelineno-1-29">29</a></span>
<span class="normal"><a href="#__codelineno-1-30">30</a></span>
<span class="normal"><a href="#__codelineno-1-31">31</a></span>
<span class="normal"><a href="#__codelineno-1-32">32</a></span>
<span class="normal"><a href="#__codelineno-1-33">33</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="c1"># Bernese GNSS Software [BSW] environment variables available after 'source'ing</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="c1"># the shell script `LOADGPS.setvar` in the root of the installation directory.</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="nt">bsw_env</span><span class="p">:</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">  </span><span class="c1"># Installation directory</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="w">  </span><span class="nt">C</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;C</span><span class="w"> </span><span class="kt">!ENV</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">C</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">  </span><span class="c1"># Bernese documentation files</span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="w">  </span><span class="nt">DOC</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;DOC</span><span class="w"> </span><span class="kt">!ENV</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DOC</span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="w">  </span><span class="c1"># Built-in Bernese program panels</span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="w">  </span><span class="nt">PAN</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;PAN</span><span class="w"> </span><span class="kt">!ENV</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PAN</span>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="w">  </span><span class="c1"># Global model files used by Bernese programs</span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a><span class="w">  </span><span class="nt">MODEL</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;MODEL</span><span class="w"> </span><span class="kt">!ENV</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MODEL</span>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a>
<a id="__codelineno-1-17" name="__codelineno-1-17"></a><span class="w">  </span><span class="c1"># Global configuration file used by Bernese programs</span>
<a id="__codelineno-1-18" name="__codelineno-1-18"></a><span class="w">  </span><span class="nt">CONFIG</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;CONFIG</span><span class="w"> </span><span class="kt">!ENV</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CONFIG</span>
<a id="__codelineno-1-19" name="__codelineno-1-19"></a>
<a id="__codelineno-1-20" name="__codelineno-1-20"></a><span class="w">  </span><span class="c1"># DATAPOOL directory</span>
<a id="__codelineno-1-21" name="__codelineno-1-21"></a><span class="w">  </span><span class="nt">D</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;D</span><span class="w"> </span><span class="kt">!ENV</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">D</span>
<a id="__codelineno-1-22" name="__codelineno-1-22"></a>
<a id="__codelineno-1-23" name="__codelineno-1-23"></a><span class="w">  </span><span class="c1"># CAMPAIGN directory</span>
<a id="__codelineno-1-24" name="__codelineno-1-24"></a><span class="w">  </span><span class="nt">P</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;P</span><span class="w"> </span><span class="kt">!ENV</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P</span>
<a id="__codelineno-1-25" name="__codelineno-1-25"></a>
<a id="__codelineno-1-26" name="__codelineno-1-26"></a><span class="w">  </span><span class="c1"># SAVEDISK directory</span>
<a id="__codelineno-1-27" name="__codelineno-1-27"></a><span class="w">  </span><span class="nt">S</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;S</span><span class="w"> </span><span class="kt">!ENV</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">S</span>
<a id="__codelineno-1-28" name="__codelineno-1-28"></a>
<a id="__codelineno-1-29" name="__codelineno-1-29"></a><span class="w">  </span><span class="c1"># User directory</span>
<a id="__codelineno-1-30" name="__codelineno-1-30"></a><span class="w">  </span><span class="nt">U</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;U</span><span class="w"> </span><span class="kt">!ENV</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">U</span>
<a id="__codelineno-1-31" name="__codelineno-1-31"></a>
<a id="__codelineno-1-32" name="__codelineno-1-32"></a><span class="w">  </span><span class="c1"># Temporary directory</span>
<a id="__codelineno-1-33" name="__codelineno-1-33"></a><span class="w">  </span><span class="nt">T</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;T</span><span class="w"> </span><span class="kt">!ENV</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">T</span>
</code></pre></div></td></tr></tbody></table></div>
<p>The section is a YAML mapping whose items have values that are dynamically
generated, when the document is parsed. As defined here, the key <code>C</code> for
instance, will have the string inside the the environment variable <code>$C</code> (or
<code>${C}</code> in the Perl syntax used by Bernese).</p>
<p>Starting from the right, the environment variable is grabbed by using the YAML
tag <code>!ENV</code> before the string <code>C</code>. When parsed as a YAML document, this invokes a
special constructor that takes the string <code>C</code> as an argument and returns the
value of the environment variable of that name.</p>
<p>The additional YAML syntax <code>&amp;C</code> defines a YAML anchor (also named <code>C</code>) which
functions as a variable that can referenced and thus reused later in the
document.</p>
<h3 id="files-used-by-autobernese">Files used by AutoBernese<a class="headerlink" href="#files-used-by-autobernese" title="Permanent link">¶</a></h3>
<p>The <code>bsw_files</code> section has entries for Bernese files used by AutoBernese. These
file paths are derived by referencing the dynamically-loaded environment
variables in the previous section.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-35">35</a></span>
<span class="normal"><a href="#__codelineno-2-36">36</a></span>
<span class="normal"><a href="#__codelineno-2-37">37</a></span>
<span class="normal"><a href="#__codelineno-2-38">38</a></span>
<span class="normal"><a href="#__codelineno-2-39">39</a></span>
<span class="normal"><a href="#__codelineno-2-40">40</a></span>
<span class="normal"><a href="#__codelineno-2-41">41</a></span>
<span class="normal"><a href="#__codelineno-2-42">42</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-35" name="__codelineno-2-35"></a><span class="c1"># Specific files in the Bernese environment that we need to access</span>
<a id="__codelineno-2-36" name="__codelineno-2-36"></a><span class="nt">bsw_files</span><span class="p">:</span>
<a id="__codelineno-2-37" name="__codelineno-2-37"></a>
<a id="__codelineno-2-38" name="__codelineno-2-38"></a><span class="w">  </span><span class="c1"># Release-information file</span>
<a id="__codelineno-2-39" name="__codelineno-2-39"></a><span class="w">  </span><span class="nt">release_info</span><span class="p">:</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*DOC</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">RELEASE.TXT</span><span class="p p-Indicator">]</span>
<a id="__codelineno-2-40" name="__codelineno-2-40"></a>
<a id="__codelineno-2-41" name="__codelineno-2-41"></a><span class="w">  </span><span class="c1"># Input file with the list of existing Bernese campaigns</span>
<a id="__codelineno-2-42" name="__codelineno-2-42"></a><span class="w">  </span><span class="nt">campaign_menu</span><span class="p">:</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*PAN</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">MENU_CMP.INP</span><span class="p p-Indicator">]</span>
</code></pre></div></td></tr></tbody></table></div>
<h3 id="runtime-settings">Runtime settings<a class="headerlink" href="#runtime-settings" title="Permanent link">¶</a></h3>
<p>The <code>env</code> and <code>runtime</code> sections are settings that AutoBernese use to create and
maintain a directory <code>autobernese</code> for its runtime files (listed below). It also
defines names of configuration sections that one may override in the common
configuration file <code>autobernese.yaml</code> or, for some of them, the
campaign-specific configuration file; both described further below.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-44">44</a></span>
<span class="normal"><a href="#__codelineno-3-45">45</a></span>
<span class="normal"><a href="#__codelineno-3-46">46</a></span>
<span class="normal"><a href="#__codelineno-3-47">47</a></span>
<span class="normal"><a href="#__codelineno-3-48">48</a></span>
<span class="normal"><a href="#__codelineno-3-49">49</a></span>
<span class="normal"><a href="#__codelineno-3-50">50</a></span>
<span class="normal"><a href="#__codelineno-3-51">51</a></span>
<span class="normal"><a href="#__codelineno-3-52">52</a></span>
<span class="normal"><a href="#__codelineno-3-53">53</a></span>
<span class="normal"><a href="#__codelineno-3-54">54</a></span>
<span class="normal"><a href="#__codelineno-3-55">55</a></span>
<span class="normal"><a href="#__codelineno-3-56">56</a></span>
<span class="normal"><a href="#__codelineno-3-57">57</a></span>
<span class="normal"><a href="#__codelineno-3-58">58</a></span>
<span class="normal"><a href="#__codelineno-3-59">59</a></span>
<span class="normal"><a href="#__codelineno-3-60">60</a></span>
<span class="normal"><a href="#__codelineno-3-61">61</a></span>
<span class="normal"><a href="#__codelineno-3-62">62</a></span>
<span class="normal"><a href="#__codelineno-3-63">63</a></span>
<span class="normal"><a href="#__codelineno-3-64">64</a></span>
<span class="normal"><a href="#__codelineno-3-65">65</a></span>
<span class="normal"><a href="#__codelineno-3-66">66</a></span>
<span class="normal"><a href="#__codelineno-3-67">67</a></span>
<span class="normal"><a href="#__codelineno-3-68">68</a></span>
<span class="normal"><a href="#__codelineno-3-69">69</a></span>
<span class="normal"><a href="#__codelineno-3-70">70</a></span>
<span class="normal"><a href="#__codelineno-3-71">71</a></span>
<span class="normal"><a href="#__codelineno-3-72">72</a></span>
<span class="normal"><a href="#__codelineno-3-73">73</a></span>
<span class="normal"><a href="#__codelineno-3-74">74</a></span>
<span class="normal"><a href="#__codelineno-3-75">75</a></span>
<span class="normal"><a href="#__codelineno-3-76">76</a></span>
<span class="normal"><a href="#__codelineno-3-77">77</a></span>
<span class="normal"><a href="#__codelineno-3-78">78</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-44" name="__codelineno-3-44"></a><span class="c1"># We define the environment root directory as the one containing the BSW</span>
<a id="__codelineno-3-45" name="__codelineno-3-45"></a><span class="c1"># installation. It is assumed to be a directory that each user can can write to.</span>
<a id="__codelineno-3-46" name="__codelineno-3-46"></a><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;env</span><span class="w"> </span><span class="kt">!Parent</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*C</span><span class="p p-Indicator">]</span>
<a id="__codelineno-3-47" name="__codelineno-3-47"></a>
<a id="__codelineno-3-48" name="__codelineno-3-48"></a><span class="c1"># AutoBernese runtime environment</span>
<a id="__codelineno-3-49" name="__codelineno-3-49"></a><span class="nt">runtime</span><span class="p">:</span>
<a id="__codelineno-3-50" name="__codelineno-3-50"></a>
<a id="__codelineno-3-51" name="__codelineno-3-51"></a><span class="w">  </span><span class="c1"># Root directory for runtime files</span>
<a id="__codelineno-3-52" name="__codelineno-3-52"></a><span class="w">  </span><span class="nt">ab</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;ab</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*env</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">autobernese</span><span class="p p-Indicator">]</span>
<a id="__codelineno-3-53" name="__codelineno-3-53"></a>
<a id="__codelineno-3-54" name="__codelineno-3-54"></a><span class="w">  </span><span class="c1"># Keyword arguments to the Python logging module</span>
<a id="__codelineno-3-55" name="__codelineno-3-55"></a><span class="w">  </span><span class="nt">logging</span><span class="p">:</span>
<a id="__codelineno-3-56" name="__codelineno-3-56"></a><span class="w">    </span><span class="nt">filename</span><span class="p">:</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*ab</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">autobernese.log</span><span class="p p-Indicator">]</span>
<a id="__codelineno-3-57" name="__codelineno-3-57"></a><span class="w">    </span><span class="c1"># Note the field `{user}` which is replaced at runtime with Python's getpass.getuser()</span>
<a id="__codelineno-3-58" name="__codelineno-3-58"></a><span class="w">    </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="s">'%(asctime)s</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">{user}</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">%(levelname)s</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">%(name)s</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">%(message)s'</span>
<a id="__codelineno-3-59" name="__codelineno-3-59"></a><span class="w">    </span><span class="nt">datefmt</span><span class="p">:</span><span class="w"> </span><span class="s">'%Y-%m-%d</span><span class="nv"> </span><span class="s">%H:%M:%S'</span>
<a id="__codelineno-3-60" name="__codelineno-3-60"></a><span class="w">    </span><span class="nt">style</span><span class="p">:</span><span class="w"> </span><span class="s">'%'</span>
<a id="__codelineno-3-61" name="__codelineno-3-61"></a><span class="w">    </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DEBUG</span>
<a id="__codelineno-3-62" name="__codelineno-3-62"></a>
<a id="__codelineno-3-63" name="__codelineno-3-63"></a><span class="w">  </span><span class="c1"># Campaign-configuration template directory</span>
<a id="__codelineno-3-64" name="__codelineno-3-64"></a><span class="w">  </span><span class="nt">campaign_templates</span><span class="p">:</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*ab</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">templates</span><span class="p p-Indicator">]</span>
<a id="__codelineno-3-65" name="__codelineno-3-65"></a>
<a id="__codelineno-3-66" name="__codelineno-3-66"></a><span class="w">  </span><span class="c1"># Filename for the common configuration</span>
<a id="__codelineno-3-67" name="__codelineno-3-67"></a><span class="w">  </span><span class="nt">common_config</span><span class="p">:</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*ab</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">autobernese.yaml</span><span class="p p-Indicator">]</span>
<a id="__codelineno-3-68" name="__codelineno-3-68"></a>
<a id="__codelineno-3-69" name="__codelineno-3-69"></a><span class="w">  </span><span class="c1"># Sections that can be added to or overridden in the core configuration</span>
<a id="__codelineno-3-70" name="__codelineno-3-70"></a><span class="w">  </span><span class="nt">sections_to_override</span><span class="p">:</span>
<a id="__codelineno-3-71" name="__codelineno-3-71"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">metadata</span>
<a id="__codelineno-3-72" name="__codelineno-3-72"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">environment</span>
<a id="__codelineno-3-73" name="__codelineno-3-73"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sources</span>
<a id="__codelineno-3-74" name="__codelineno-3-74"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tasks</span>
<a id="__codelineno-3-75" name="__codelineno-3-75"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">station</span>
<a id="__codelineno-3-76" name="__codelineno-3-76"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">clean</span>
<a id="__codelineno-3-77" name="__codelineno-3-77"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">troposphere</span>
<a id="__codelineno-3-78" name="__codelineno-3-78"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">campaign</span>
</code></pre></div></td></tr></tbody></table></div>
<p>As there may be more than one Bernese installation on a system, the AutoBernese
runtime directory is, currently, set to be next to the activated Bernese
installation directory <code>BERN54</code>.</p>
<div class="admonition info">
<p class="admonition-title">Bernese environmemt</p>
<p>The directory containing the AutoBernese runtime directory and the Bernese
installation directory is referred to in this context, variously, as <em>the
Bernese environment</em>, <em>the activated environment</em> or <em>runtime environment</em>.</p>
</div>
<p>The files in the AutoBernese runtime directory include:</p>
<ul>
<li>The logfile <code>autobernese.log</code></li>
<li>The common configuration file <code>autobernese.yaml</code> with possible overrides for
    the built-in configuration file.</li>
<li>Campaign-configuration templates inside the sub directory <code>templates</code></li>
</ul>
<h3 id="settings-overridable">Settings overridable<a class="headerlink" href="#settings-overridable" title="Permanent link">¶</a></h3>
<p>The <code>campaign</code> section determines the default directory structure of a new
campaign. This section is overridable by the common configuration.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-79">79</a></span>
<span class="normal"><a href="#__codelineno-4-80">80</a></span>
<span class="normal"><a href="#__codelineno-4-81">81</a></span>
<span class="normal"><a href="#__codelineno-4-82">82</a></span>
<span class="normal"><a href="#__codelineno-4-83">83</a></span>
<span class="normal"><a href="#__codelineno-4-84">84</a></span>
<span class="normal"><a href="#__codelineno-4-85">85</a></span>
<span class="normal"><a href="#__codelineno-4-86">86</a></span>
<span class="normal"><a href="#__codelineno-4-87">87</a></span>
<span class="normal"><a href="#__codelineno-4-88">88</a></span>
<span class="normal"><a href="#__codelineno-4-89">89</a></span>
<span class="normal"><a href="#__codelineno-4-90">90</a></span>
<span class="normal"><a href="#__codelineno-4-91">91</a></span>
<span class="normal"><a href="#__codelineno-4-92">92</a></span>
<span class="normal"><a href="#__codelineno-4-93">93</a></span>
<span class="normal"><a href="#__codelineno-4-94">94</a></span>
<span class="normal"><a href="#__codelineno-4-95">95</a></span>
<span class="normal"><a href="#__codelineno-4-96">96</a></span>
<span class="normal"><a href="#__codelineno-4-97">97</a></span>
<span class="normal"><a href="#__codelineno-4-98">98</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-79" name="__codelineno-4-79"></a><span class="c1"># Default content for the above sections_to_override. These sections can be</span>
<a id="__codelineno-4-80" name="__codelineno-4-80"></a><span class="c1"># overriden by the user in the general configuration file autobernese.yaml or in</span>
<a id="__codelineno-4-81" name="__codelineno-4-81"></a><span class="c1"># the campaign configuration (including the template).</span>
<a id="__codelineno-4-82" name="__codelineno-4-82"></a>
<a id="__codelineno-4-83" name="__codelineno-4-83"></a><span class="nt">campaign</span><span class="p">:</span>
<a id="__codelineno-4-84" name="__codelineno-4-84"></a><span class="w">  </span><span class="nt">directories</span><span class="p">:</span>
<a id="__codelineno-4-85" name="__codelineno-4-85"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ATM</span>
<a id="__codelineno-4-86" name="__codelineno-4-86"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BPE</span>
<a id="__codelineno-4-87" name="__codelineno-4-87"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GEN</span>
<a id="__codelineno-4-88" name="__codelineno-4-88"></a><span class="w">    </span><span class="nt">files</span><span class="p">:</span>
<a id="__codelineno-4-89" name="__codelineno-4-89"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*CONFIG</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">OBSERV.SEL</span><span class="p p-Indicator">]</span>
<a id="__codelineno-4-90" name="__codelineno-4-90"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*PAN</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">SESSIONS.SES</span><span class="p p-Indicator">]</span>
<a id="__codelineno-4-91" name="__codelineno-4-91"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GRD</span>
<a id="__codelineno-4-92" name="__codelineno-4-92"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OBS</span>
<a id="__codelineno-4-93" name="__codelineno-4-93"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ORB</span>
<a id="__codelineno-4-94" name="__codelineno-4-94"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ORX</span>
<a id="__codelineno-4-95" name="__codelineno-4-95"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OUT</span>
<a id="__codelineno-4-96" name="__codelineno-4-96"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RAW</span>
<a id="__codelineno-4-97" name="__codelineno-4-97"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SOL</span>
<a id="__codelineno-4-98" name="__codelineno-4-98"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">STA</span>
</code></pre></div></td></tr></tbody></table></div>
<h2 id="common-configuration">Common configuration<a class="headerlink" href="#common-configuration" title="Permanent link">¶</a></h2>
<p>The common configuration file is for functionality that does not require a
Bernese campaign or which is common to all campaigns. To use common settings,
put them inside a file called <code>autobernese.yaml</code> in the AutoBernese runtime
directory. The settings work as defaults for campaigns, unless they are
overridden in the campaign-specific configuration file.</p>
<div class="highlight"><span class="filename">The AutoBernese runtime directory</span><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>/path/to/environment
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>├── autobernese
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>│   ├── autobernese.log  # Log file with user-separable entries
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>│   ├── autobernese.yaml # Users can (and should) add this to configure
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>│   │                    # campaign setup and external-data download
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>│   │
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>│   └── (...)
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>│
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>├── BERN54
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>└── (...)
</code></pre></div>
<p>With this file, users may configure the following:</p>
<ul>
<li>The directory structure of a new Bernese campaign</li>
<li>Directory structure for troposphere-model data</li>
<li>Common sources of external data</li>
<li>Settings for generating a STA-file from station site-log files</li>
</ul>
<h3 id="campaign-directory-structure-for-new-campaigns">Campaign-directory structure for new campaigns<a class="headerlink" href="#campaign-directory-structure-for-new-campaigns" title="Permanent link">¶</a></h3>
<div class="highlight"><table class="highlighttable"><tbody><tr><th colspan="2" class="filename"><span class="filename">Campaign-creation settings in autobernese.yaml</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-6-10">10</a></span>
<span class="normal"><a href="#__codelineno-6-11">11</a></span>
<span class="normal"><a href="#__codelineno-6-12">12</a></span>
<span class="normal"><a href="#__codelineno-6-13">13</a></span>
<span class="normal"><a href="#__codelineno-6-14">14</a></span>
<span class="normal"><a href="#__codelineno-6-15">15</a></span>
<span class="normal"><a href="#__codelineno-6-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="nt">campaign</span><span class="p">:</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="w">  </span><span class="nt">directories</span><span class="p">:</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ATM</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BPE</span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GEN</span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">    </span><span class="nt">files</span><span class="p">:</span>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*CONFIG</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">OBSERV.SEL</span><span class="p p-Indicator">]</span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*PAN</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">SESSIONS.SES</span><span class="p p-Indicator">]</span>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GRD</span>
<a id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OBS</span>
<a id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ORB</span>
<a id="__codelineno-6-12" name="__codelineno-6-12"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ORX</span>
<a id="__codelineno-6-13" name="__codelineno-6-13"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OUT</span>
<a id="__codelineno-6-14" name="__codelineno-6-14"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RAW</span>
<a id="__codelineno-6-15" name="__codelineno-6-15"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SOL</span>
<a id="__codelineno-6-16" name="__codelineno-6-16"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">STA</span>
</code></pre></div></td></tr></tbody></table></div>
<h3 id="troposphere-data-directory-structure">Troposphere data directory structure<a class="headerlink" href="#troposphere-data-directory-structure" title="Permanent link">¶</a></h3>
<div class="highlight"><table class="highlighttable"><tbody><tr><th colspan="2" class="filename"><span class="filename">Troposphere-data settings in autobernese.yaml</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-18">18</a></span>
<span class="normal"><a href="#__codelineno-7-19">19</a></span>
<span class="normal"><a href="#__codelineno-7-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-18" name="__codelineno-7-18"></a><span class="nt">troposphere</span><span class="p">:</span>
<a id="__codelineno-7-19" name="__codelineno-7-19"></a><span class="w">  </span><span class="nt">ipath</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;TROPOSPHERE_IPATH</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*D</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">VMF3</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">'1x1_OP_H'</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">'{date.year}'</span><span class="p p-Indicator">]</span>
<a id="__codelineno-7-20" name="__codelineno-7-20"></a><span class="w">  </span><span class="nt">opath</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;TROPOSPHERE_OPATH</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*D</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">VMF3</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">'1x1_OP_GRD'</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">'{date.year}'</span><span class="p p-Indicator">]</span>
</code></pre></div></td></tr></tbody></table></div>
<h3 id="data-source-specification-and-local-directory-structure">Data-source specification and local directory structure<a class="headerlink" href="#data-source-specification-and-local-directory-structure" title="Permanent link">¶</a></h3>
<div class="highlight"><table class="highlighttable"><tbody><tr><th colspan="2" class="filename"><span class="filename">Data source management settings in autobernese.yaml</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-22">22</a></span>
<span class="normal"><a href="#__codelineno-8-23">23</a></span>
<span class="normal"><a href="#__codelineno-8-24">24</a></span>
<span class="normal"><a href="#__codelineno-8-25">25</a></span>
<span class="normal"><a href="#__codelineno-8-26">26</a></span>
<span class="normal"><a href="#__codelineno-8-27">27</a></span>
<span class="normal"><a href="#__codelineno-8-28">28</a></span>
<span class="normal"><a href="#__codelineno-8-29">29</a></span>
<span class="normal"><a href="#__codelineno-8-30">30</a></span>
<span class="normal"><a href="#__codelineno-8-31">31</a></span>
<span class="normal"><a href="#__codelineno-8-32">32</a></span>
<span class="normal"><a href="#__codelineno-8-33">33</a></span>
<span class="normal"><a href="#__codelineno-8-34">34</a></span>
<span class="normal"><a href="#__codelineno-8-35">35</a></span>
<span class="normal"><a href="#__codelineno-8-36">36</a></span>
<span class="normal"><a href="#__codelineno-8-37">37</a></span>
<span class="normal"><a href="#__codelineno-8-38">38</a></span>
<span class="normal"><a href="#__codelineno-8-39">39</a></span>
<span class="normal"><a href="#__codelineno-8-40">40</a></span>
<span class="normal"><a href="#__codelineno-8-41">41</a></span>
<span class="normal"><a href="#__codelineno-8-42">42</a></span>
<span class="normal"><a href="#__codelineno-8-43">43</a></span>
<span class="normal"><a href="#__codelineno-8-44">44</a></span>
<span class="normal"><a href="#__codelineno-8-45">45</a></span>
<span class="normal"><a href="#__codelineno-8-46">46</a></span>
<span class="normal"><a href="#__codelineno-8-47">47</a></span>
<span class="normal"><a href="#__codelineno-8-48">48</a></span>
<span class="normal"><a href="#__codelineno-8-49">49</a></span>
<span class="normal"><a href="#__codelineno-8-50">50</a></span>
<span class="normal"><a href="#__codelineno-8-51">51</a></span>
<span class="normal"><a href="#__codelineno-8-52">52</a></span>
<span class="normal"><a href="#__codelineno-8-53">53</a></span>
<span class="normal"><a href="#__codelineno-8-54">54</a></span>
<span class="normal"><a href="#__codelineno-8-55">55</a></span>
<span class="normal"><a href="#__codelineno-8-56">56</a></span>
<span class="normal"><a href="#__codelineno-8-57">57</a></span>
<span class="normal"><a href="#__codelineno-8-58">58</a></span>
<span class="normal"><a href="#__codelineno-8-59">59</a></span>
<span class="normal"><a href="#__codelineno-8-60">60</a></span>
<span class="normal"><a href="#__codelineno-8-61">61</a></span>
<span class="normal"><a href="#__codelineno-8-62">62</a></span>
<span class="normal"><a href="#__codelineno-8-63">63</a></span>
<span class="normal"><a href="#__codelineno-8-64">64</a></span>
<span class="normal"><a href="#__codelineno-8-65">65</a></span>
<span class="normal"><a href="#__codelineno-8-66">66</a></span>
<span class="normal"><a href="#__codelineno-8-67">67</a></span>
<span class="normal"><a href="#__codelineno-8-68">68</a></span>
<span class="normal"><a href="#__codelineno-8-69">69</a></span>
<span class="normal"><a href="#__codelineno-8-70">70</a></span>
<span class="normal"><a href="#__codelineno-8-71">71</a></span>
<span class="normal"><a href="#__codelineno-8-72">72</a></span>
<span class="normal"><a href="#__codelineno-8-73">73</a></span>
<span class="normal"><a href="#__codelineno-8-74">74</a></span>
<span class="normal"><a href="#__codelineno-8-75">75</a></span>
<span class="normal"><a href="#__codelineno-8-76">76</a></span>
<span class="normal"><a href="#__codelineno-8-77">77</a></span>
<span class="normal"><a href="#__codelineno-8-78">78</a></span>
<span class="normal"><a href="#__codelineno-8-79">79</a></span>
<span class="normal"><a href="#__codelineno-8-80">80</a></span>
<span class="normal"><a href="#__codelineno-8-81">81</a></span>
<span class="normal"><a href="#__codelineno-8-82">82</a></span>
<span class="normal"><a href="#__codelineno-8-83">83</a></span>
<span class="normal"><a href="#__codelineno-8-84">84</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-22" name="__codelineno-8-22"></a><span class="nt">sources</span><span class="p">:</span>
<a id="__codelineno-8-23" name="__codelineno-8-23"></a>
<a id="__codelineno-8-24" name="__codelineno-8-24"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EUREF54_20_STA</span>
<a id="__codelineno-8-25" name="__codelineno-8-25"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EUREF STA file from epncb</span>
<a id="__codelineno-8-26" name="__codelineno-8-26"></a><span class="w">  </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ftp://epncb.oma.be/pub/station/general/EUREF54_20.STA</span>
<a id="__codelineno-8-27" name="__codelineno-8-27"></a><span class="w">  </span><span class="nt">destination</span><span class="p">:</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*D</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">REF54</span><span class="p p-Indicator">]</span>
<a id="__codelineno-8-28" name="__codelineno-8-28"></a><span class="w">  </span><span class="nt">max_age</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="__codelineno-8-29" name="__codelineno-8-29"></a>
<a id="__codelineno-8-30" name="__codelineno-8-30"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BSW_MODEL</span>
<a id="__codelineno-8-31" name="__codelineno-8-31"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BSW Model data</span>
<a id="__codelineno-8-32" name="__codelineno-8-32"></a><span class="w">  </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ftp://ftp.aiub.unibe.ch/BSWUSER54/MODEL/</span>
<a id="__codelineno-8-33" name="__codelineno-8-33"></a><span class="w">  </span><span class="nt">destination</span><span class="p">:</span><span class="w"> </span><span class="nv">*MODEL</span>
<a id="__codelineno-8-34" name="__codelineno-8-34"></a><span class="w">  </span><span class="nt">filenames</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">'*'</span><span class="p p-Indicator">]</span>
<a id="__codelineno-8-35" name="__codelineno-8-35"></a><span class="w">  </span><span class="nt">max_age</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="__codelineno-8-36" name="__codelineno-8-36"></a>
<a id="__codelineno-8-37" name="__codelineno-8-37"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BSW_CONFIG</span>
<a id="__codelineno-8-38" name="__codelineno-8-38"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BSW Configuration data</span>
<a id="__codelineno-8-39" name="__codelineno-8-39"></a><span class="w">  </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ftp://ftp.aiub.unibe.ch/BSWUSER54/CONFIG/</span>
<a id="__codelineno-8-40" name="__codelineno-8-40"></a><span class="w">  </span><span class="nt">destination</span><span class="p">:</span><span class="w"> </span><span class="nv">*CONFIG</span>
<a id="__codelineno-8-41" name="__codelineno-8-41"></a><span class="w">  </span><span class="nt">filenames</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">'*'</span><span class="p p-Indicator">]</span>
<a id="__codelineno-8-42" name="__codelineno-8-42"></a><span class="w">  </span><span class="nt">max_age</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="__codelineno-8-43" name="__codelineno-8-43"></a>
<a id="__codelineno-8-44" name="__codelineno-8-44"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BSW_REF</span>
<a id="__codelineno-8-45" name="__codelineno-8-45"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Universal and BSW-specific antenna files</span>
<a id="__codelineno-8-46" name="__codelineno-8-46"></a><span class="w">  </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ftp://ftp.aiub.unibe.ch/BSWUSER54/REF/</span>
<a id="__codelineno-8-47" name="__codelineno-8-47"></a><span class="w">  </span><span class="nt">destination</span><span class="p">:</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*D</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">REF54</span><span class="p p-Indicator">]</span>
<a id="__codelineno-8-48" name="__codelineno-8-48"></a><span class="w">  </span><span class="nt">filenames</span><span class="p">:</span>
<a id="__codelineno-8-49" name="__codelineno-8-49"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ANTENNA_I20.PCV</span>
<a id="__codelineno-8-50" name="__codelineno-8-50"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">I20.ATX</span>
<a id="__codelineno-8-51" name="__codelineno-8-51"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FES2014b.BLQ</span>
<a id="__codelineno-8-52" name="__codelineno-8-52"></a>
<a id="__codelineno-8-53" name="__codelineno-8-53"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IGB14.CRD</span>
<a id="__codelineno-8-54" name="__codelineno-8-54"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IGB14.FIX</span>
<a id="__codelineno-8-55" name="__codelineno-8-55"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IGB14.PSD</span>
<a id="__codelineno-8-56" name="__codelineno-8-56"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IGB14.VEL</span>
<a id="__codelineno-8-57" name="__codelineno-8-57"></a>
<a id="__codelineno-8-58" name="__codelineno-8-58"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IGS14.CRD</span>
<a id="__codelineno-8-59" name="__codelineno-8-59"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IGS14.FIX</span>
<a id="__codelineno-8-60" name="__codelineno-8-60"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IGS14.PSD</span>
<a id="__codelineno-8-61" name="__codelineno-8-61"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IGS14.VEL</span>
<a id="__codelineno-8-62" name="__codelineno-8-62"></a>
<a id="__codelineno-8-63" name="__codelineno-8-63"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IGS20.CRD</span>
<a id="__codelineno-8-64" name="__codelineno-8-64"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IGS20.FIX</span>
<a id="__codelineno-8-65" name="__codelineno-8-65"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IGS20.PSD</span>
<a id="__codelineno-8-66" name="__codelineno-8-66"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IGS20.VEL</span>
<a id="__codelineno-8-67" name="__codelineno-8-67"></a>
<a id="__codelineno-8-68" name="__codelineno-8-68"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IGB14_R.CRD</span>
<a id="__codelineno-8-69" name="__codelineno-8-69"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IGB14_R.VEL</span>
<a id="__codelineno-8-70" name="__codelineno-8-70"></a>
<a id="__codelineno-8-71" name="__codelineno-8-71"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IGS14_R.CRD</span>
<a id="__codelineno-8-72" name="__codelineno-8-72"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IGS14_R.VEL</span>
<a id="__codelineno-8-73" name="__codelineno-8-73"></a>
<a id="__codelineno-8-74" name="__codelineno-8-74"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IGS20_R.CRD</span>
<a id="__codelineno-8-75" name="__codelineno-8-75"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IGS20_R.VEL</span>
<a id="__codelineno-8-76" name="__codelineno-8-76"></a><span class="w">  </span><span class="nt">max_age</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="__codelineno-8-77" name="__codelineno-8-77"></a>
<a id="__codelineno-8-78" name="__codelineno-8-78"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">VMF3</span>
<a id="__codelineno-8-79" name="__codelineno-8-79"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Troposphere mapping function (VMF3/grid/1x1/operational)</span>
<a id="__codelineno-8-80" name="__codelineno-8-80"></a><span class="w">  </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://vmf.geo.tuwien.ac.at/trop_products/GRID/1x1/VMF3/VMF3_OP/{date.year}/VMF3_{date.year}{date.month:02d}{date.day:02d}.H{hour}</span>
<a id="__codelineno-8-81" name="__codelineno-8-81"></a><span class="w">  </span><span class="nt">destination</span><span class="p">:</span><span class="w"> </span><span class="nv">*TROPOSPHERE_IPATH</span>
<a id="__codelineno-8-82" name="__codelineno-8-82"></a><span class="w">  </span><span class="nt">parameters</span><span class="p">:</span>
<a id="__codelineno-8-83" name="__codelineno-8-83"></a><span class="w">    </span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="kt">!DateRange</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> beg</span><span class="p">:</span><span class="w"> </span><span class="nv">2024-06-01</span><span class="p p-Indicator">,</span><span class="nt"> end</span><span class="p">:</span><span class="w"> </span><span class="nv">2024-06-01</span><span class="p p-Indicator">,</span><span class="nt"> extend_end_by</span><span class="p">:</span><span class="w"> </span><span class="nv">1</span><span class="w"> </span><span class="p p-Indicator">}</span>
<a id="__codelineno-8-84" name="__codelineno-8-84"></a><span class="w">    </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">'00'</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">'06'</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">'12'</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">'18'</span><span class="p p-Indicator">]</span>
</code></pre></div></td></tr></tbody></table></div>
<h3 id="station-site-log-files-to-use-for-sta-file-creation">Station site-log files to use for STA-file creation<a class="headerlink" href="#station-site-log-files-to-use-for-sta-file-creation" title="Permanent link">¶</a></h3>
<div class="highlight"><table class="highlighttable"><tbody><tr><th colspan="2" class="filename"><span class="filename">Station site-log data to STA-file settings in autobernese.yaml</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-91">91</a></span>
<span class="normal"><a href="#__codelineno-9-92">92</a></span>
<span class="normal"><a href="#__codelineno-9-93">93</a></span>
<span class="normal"><a href="#__codelineno-9-94">94</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-91" name="__codelineno-9-91"></a><span class="nt">station</span><span class="p">:</span>
<a id="__codelineno-9-92" name="__codelineno-9-92"></a><span class="w">  </span><span class="nt">sitelogs</span><span class="p">:</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*D</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">sitelogs</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">'*.log'</span><span class="p p-Indicator">]</span>
<a id="__codelineno-9-93" name="__codelineno-9-93"></a><span class="w">  </span><span class="nt">individually_calibrated</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
<a id="__codelineno-9-94" name="__codelineno-9-94"></a><span class="w">  </span><span class="nt">output_sta_file</span><span class="p">:</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*D</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">station</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">sitelogs.STA</span><span class="p p-Indicator">]</span>
</code></pre></div></td></tr></tbody></table></div>
<h2 id="campaign-configuration">Campaign configuration<a class="headerlink" href="#campaign-configuration" title="Permanent link">¶</a></h2>
<p>Campaigns differ by their purpose, time interval, data needed and actions
required. To <em>run</em> a Bernese campaign, AutoBernese requires a configuration file
<code>campaign.yaml</code> in the root of the campaign directory.</p>
<div class="highlight"><span class="filename">Location of a campaign-specific configuration</span><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>/path/to/CAMPAIGN54
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>├── EXAMPLE
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>│   ├── (...)
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>│   └── campaign.yaml
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>│
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>└── (...)
</code></pre></div>
<p>It stores all information about the campaign, defines what data sources to
retrieve and what actions [tasks] to perform. It also allows one to (re-)define
environment variables which can be helpful, if a given campaign uses a special
directory for the Bernese <code>.PCF</code>-files it needs.</p>
<p>One can build the campaign configuration file manually, e.g. by copying the
example in this manual. But AutoBernese is made to automatically create a
Bernese campaign from a pre-defined configuration template. AutoBernese comes
with an empty, default template to allow basic campaign-creation.</p>
<h3 id="creating-a-new-campaign-configuration">Creating a new campaign configuration<a class="headerlink" href="#creating-a-new-campaign-configuration" title="Permanent link">¶</a></h3>
<p>A campaign-specific configuration file is <strong>created</strong> by AutoBernese by
combining information gathered at the campaign creation time with a
campaign-configuration template. The combination of these metadata and the
template go into a campaign-specific configuration file <code>campaign.yaml</code> which is
added to root of the newly-created campaign directory.</p>
<p>The gathered data are stored in a <code>metadata</code> section at the top. Its purpose is
to specify the YAML anchors used in the template part of the
campaign-configuration template file. The metadata are also used when displaying
verbose information about the created campaign, when using AutoBernese to list
all the campaigns in the environment.</p>
<div class="highlight"><span class="filename">Sections in a campaign-specific configuration file</span><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># Required</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="nt">metadata</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="c1"># Optional, but needed to make use of autobernese</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="nt">environment</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="nt">tasks</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="nt">sources</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="nt">clean</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
</code></pre></div>
<p>It is also possible to use AutoBernese on existing campaigns by, manually,
adding a <code>campaign.yaml</code> file to the campaign-directory root. The quick-start
section provides an example of such a file, which is prepared to work with the
EXAMPLE campaign that comes bundled with Bernese 5.4 (works for releases
2022-10-23 and 2023-10-16).</p>
<p>For reference, you can se the contents of that file by unfolding the section
below.</p>
<details class="note">
<summary>Unfold to see an AutoBernese configuration for the pre-created EXAMPLE campaign</summary>
<p>As it is only the presence of the configuration file that enables AutoBernese to
do its work, existing campaigns can be run with AutoBernese by adding a
campaign-configuration file to those campaign directories.</p>
<p>Below is an example of the campaign-configuration template <code>campaign.yaml</code>,
which, when put into the EXAMPLE campaign directory
<code>/path/to/CAMPAIGN54/EXAMPLE</code> enables AutoBernese to use this existing campaign:</p>
<div class="highlight"><span class="filename">EXAMPLE campaign configuration</span><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nt">metadata</span><span class="p">:</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;version</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.5.0</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">  </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;username</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">USERNAME</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">  </span><span class="nt">created</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;created</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2024-04-08</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">  </span><span class="nt">template</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;template</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">  </span><span class="nt">campaign</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;campaign</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EXAMPLE</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">  </span><span class="nt">beg</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;beg</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2019-02-13</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="w">  </span><span class="nt">end</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;end</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2019-02-14</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="nt">custom</span><span class="p">:</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="w">  </span><span class="nt">dates</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;dates</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2019-02-13</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2019-02-14</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2020-06-27</span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2020-06-28</span>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2021-04-05</span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2021-04-06</span>
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a>
<a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="nt">tasks</span><span class="p">:</span>
<a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a>
<a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PPP</span>
<a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Precise-Point Positioning</span>
<a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RunBPE</span>
<a id="__codelineno-12-24" name="__codelineno-12-24" href="#__codelineno-12-24"></a><span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<a id="__codelineno-12-25" name="__codelineno-12-25" href="#__codelineno-12-25"></a><span class="w">    </span><span class="nt">pcf_file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PPP</span>
<a id="__codelineno-12-26" name="__codelineno-12-26" href="#__codelineno-12-26"></a><span class="w">    </span><span class="nt">campaign</span><span class="p">:</span><span class="w"> </span><span class="nv">*campaign</span>
<a id="__codelineno-12-27" name="__codelineno-12-27" href="#__codelineno-12-27"></a><span class="w">    </span><span class="nt">year</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.year}'</span>
<a id="__codelineno-12-28" name="__codelineno-12-28" href="#__codelineno-12-28"></a><span class="w">    </span><span class="nt">session</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-29" name="__codelineno-12-29" href="#__codelineno-12-29"></a><span class="w">    </span><span class="nt">sysout</span><span class="p">:</span><span class="w"> </span><span class="s">'PPP_{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-30" name="__codelineno-12-30" href="#__codelineno-12-30"></a><span class="w">    </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="s">'PPP_{date.doy:0&gt;3d}0.RUN'</span>
<a id="__codelineno-12-31" name="__codelineno-12-31" href="#__codelineno-12-31"></a><span class="w">    </span><span class="nt">taskid</span><span class="p">:</span><span class="w"> </span><span class="s">'PPP_{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-32" name="__codelineno-12-32" href="#__codelineno-12-32"></a><span class="w">  </span><span class="nt">parameters</span><span class="p">:</span>
<a id="__codelineno-12-33" name="__codelineno-12-33" href="#__codelineno-12-33"></a><span class="w">    </span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dates</span>
<a id="__codelineno-12-34" name="__codelineno-12-34" href="#__codelineno-12-34"></a>
<a id="__codelineno-12-35" name="__codelineno-12-35" href="#__codelineno-12-35"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RNX2SNX</span>
<a id="__codelineno-12-36" name="__codelineno-12-36" href="#__codelineno-12-36"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RINEX to SINEX</span>
<a id="__codelineno-12-37" name="__codelineno-12-37" href="#__codelineno-12-37"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RunBPE</span>
<a id="__codelineno-12-38" name="__codelineno-12-38" href="#__codelineno-12-38"></a><span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<a id="__codelineno-12-39" name="__codelineno-12-39" href="#__codelineno-12-39"></a><span class="w">    </span><span class="nt">pcf_file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RNX2SNX</span>
<a id="__codelineno-12-40" name="__codelineno-12-40" href="#__codelineno-12-40"></a><span class="w">    </span><span class="nt">campaign</span><span class="p">:</span><span class="w"> </span><span class="nv">*campaign</span>
<a id="__codelineno-12-41" name="__codelineno-12-41" href="#__codelineno-12-41"></a><span class="w">    </span><span class="nt">year</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.year}'</span>
<a id="__codelineno-12-42" name="__codelineno-12-42" href="#__codelineno-12-42"></a><span class="w">    </span><span class="nt">session</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-43" name="__codelineno-12-43" href="#__codelineno-12-43"></a><span class="w">    </span><span class="nt">sysout</span><span class="p">:</span><span class="w"> </span><span class="s">'RNX2SNX_{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-44" name="__codelineno-12-44" href="#__codelineno-12-44"></a><span class="w">    </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="s">'RNX2SNX_{date.doy:0&gt;3d}0.RUN'</span>
<a id="__codelineno-12-45" name="__codelineno-12-45" href="#__codelineno-12-45"></a><span class="w">    </span><span class="nt">taskid</span><span class="p">:</span><span class="w"> </span><span class="s">'R2S_{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-46" name="__codelineno-12-46" href="#__codelineno-12-46"></a><span class="w">  </span><span class="nt">parameters</span><span class="p">:</span>
<a id="__codelineno-12-47" name="__codelineno-12-47" href="#__codelineno-12-47"></a><span class="w">    </span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dates</span>
<a id="__codelineno-12-48" name="__codelineno-12-48" href="#__codelineno-12-48"></a>
<a id="__codelineno-12-49" name="__codelineno-12-49" href="#__codelineno-12-49"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BASTST</span>
<a id="__codelineno-12-50" name="__codelineno-12-50" href="#__codelineno-12-50"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|-</span>
<a id="__codelineno-12-51" name="__codelineno-12-51" href="#__codelineno-12-51"></a><span class="w">    </span><span class="no">Baseline by baseline processing for trouble shooting</span>
<a id="__codelineno-12-52" name="__codelineno-12-52" href="#__codelineno-12-52"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RunBPE</span>
<a id="__codelineno-12-53" name="__codelineno-12-53" href="#__codelineno-12-53"></a><span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<a id="__codelineno-12-54" name="__codelineno-12-54" href="#__codelineno-12-54"></a><span class="w">    </span><span class="nt">pcf_file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BASTST</span>
<a id="__codelineno-12-55" name="__codelineno-12-55" href="#__codelineno-12-55"></a><span class="w">    </span><span class="nt">campaign</span><span class="p">:</span><span class="w"> </span><span class="nv">*campaign</span>
<a id="__codelineno-12-56" name="__codelineno-12-56" href="#__codelineno-12-56"></a><span class="w">    </span><span class="nt">year</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.year}'</span>
<a id="__codelineno-12-57" name="__codelineno-12-57" href="#__codelineno-12-57"></a><span class="w">    </span><span class="nt">session</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-58" name="__codelineno-12-58" href="#__codelineno-12-58"></a><span class="w">    </span><span class="nt">sysout</span><span class="p">:</span><span class="w"> </span><span class="s">'BASTST_{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-59" name="__codelineno-12-59" href="#__codelineno-12-59"></a><span class="w">    </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="s">'BASTST_{date.doy:0&gt;3d}0.RUN'</span>
<a id="__codelineno-12-60" name="__codelineno-12-60" href="#__codelineno-12-60"></a><span class="w">    </span><span class="nt">taskid</span><span class="p">:</span><span class="w"> </span><span class="s">'BASTST_{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-61" name="__codelineno-12-61" href="#__codelineno-12-61"></a><span class="w">  </span><span class="nt">parameters</span><span class="p">:</span>
<a id="__codelineno-12-62" name="__codelineno-12-62" href="#__codelineno-12-62"></a><span class="w">    </span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dates</span>
<a id="__codelineno-12-63" name="__codelineno-12-63" href="#__codelineno-12-63"></a>
<a id="__codelineno-12-64" name="__codelineno-12-64" href="#__codelineno-12-64"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CLKDET</span>
<a id="__codelineno-12-65" name="__codelineno-12-65" href="#__codelineno-12-65"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|-</span>
<a id="__codelineno-12-66" name="__codelineno-12-66" href="#__codelineno-12-66"></a><span class="w">    </span><span class="no">Zero-difference network solution providing clock corrections</span>
<a id="__codelineno-12-67" name="__codelineno-12-67" href="#__codelineno-12-67"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RunBPE</span>
<a id="__codelineno-12-68" name="__codelineno-12-68" href="#__codelineno-12-68"></a><span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<a id="__codelineno-12-69" name="__codelineno-12-69" href="#__codelineno-12-69"></a><span class="w">    </span><span class="nt">pcf_file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CLKDET</span>
<a id="__codelineno-12-70" name="__codelineno-12-70" href="#__codelineno-12-70"></a><span class="w">    </span><span class="nt">campaign</span><span class="p">:</span><span class="w"> </span><span class="nv">*campaign</span>
<a id="__codelineno-12-71" name="__codelineno-12-71" href="#__codelineno-12-71"></a><span class="w">    </span><span class="nt">year</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.year}'</span>
<a id="__codelineno-12-72" name="__codelineno-12-72" href="#__codelineno-12-72"></a><span class="w">    </span><span class="nt">session</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-73" name="__codelineno-12-73" href="#__codelineno-12-73"></a><span class="w">    </span><span class="nt">sysout</span><span class="p">:</span><span class="w"> </span><span class="s">'CLKDET_{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-74" name="__codelineno-12-74" href="#__codelineno-12-74"></a><span class="w">    </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="s">'CLKDET_{date.doy:0&gt;3d}0.RUN'</span>
<a id="__codelineno-12-75" name="__codelineno-12-75" href="#__codelineno-12-75"></a><span class="w">    </span><span class="nt">taskid</span><span class="p">:</span><span class="w"> </span><span class="s">'CLKDET_{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-76" name="__codelineno-12-76" href="#__codelineno-12-76"></a><span class="w">  </span><span class="nt">parameters</span><span class="p">:</span>
<a id="__codelineno-12-77" name="__codelineno-12-77" href="#__codelineno-12-77"></a><span class="w">    </span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dates</span>
<a id="__codelineno-12-78" name="__codelineno-12-78" href="#__codelineno-12-78"></a>
<a id="__codelineno-12-79" name="__codelineno-12-79" href="#__codelineno-12-79"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IONDET</span>
<a id="__codelineno-12-80" name="__codelineno-12-80" href="#__codelineno-12-80"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|-</span>
<a id="__codelineno-12-81" name="__codelineno-12-81" href="#__codelineno-12-81"></a><span class="w">    </span><span class="no">Zero-difference network solution providing station-wise, regional, or global</span>
<a id="__codelineno-12-82" name="__codelineno-12-82" href="#__codelineno-12-82"></a><span class="w">    </span><span class="no">ionosphere maps and the related biases</span>
<a id="__codelineno-12-83" name="__codelineno-12-83" href="#__codelineno-12-83"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RunBPE</span>
<a id="__codelineno-12-84" name="__codelineno-12-84" href="#__codelineno-12-84"></a><span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<a id="__codelineno-12-85" name="__codelineno-12-85" href="#__codelineno-12-85"></a><span class="w">    </span><span class="nt">pcf_file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IONDET</span>
<a id="__codelineno-12-86" name="__codelineno-12-86" href="#__codelineno-12-86"></a><span class="w">    </span><span class="nt">campaign</span><span class="p">:</span><span class="w"> </span><span class="nv">*campaign</span>
<a id="__codelineno-12-87" name="__codelineno-12-87" href="#__codelineno-12-87"></a><span class="w">    </span><span class="nt">year</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.year}'</span>
<a id="__codelineno-12-88" name="__codelineno-12-88" href="#__codelineno-12-88"></a><span class="w">    </span><span class="nt">session</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-89" name="__codelineno-12-89" href="#__codelineno-12-89"></a><span class="w">    </span><span class="nt">sysout</span><span class="p">:</span><span class="w"> </span><span class="s">'IONDET_{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-90" name="__codelineno-12-90" href="#__codelineno-12-90"></a><span class="w">    </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="s">'IONDET_{date.doy:0&gt;3d}0.RUN'</span>
<a id="__codelineno-12-91" name="__codelineno-12-91" href="#__codelineno-12-91"></a><span class="w">    </span><span class="nt">taskid</span><span class="p">:</span><span class="w"> </span><span class="s">'IONDET_{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-92" name="__codelineno-12-92" href="#__codelineno-12-92"></a><span class="w">  </span><span class="nt">parameters</span><span class="p">:</span>
<a id="__codelineno-12-93" name="__codelineno-12-93" href="#__codelineno-12-93"></a><span class="w">    </span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dates</span>
<a id="__codelineno-12-94" name="__codelineno-12-94" href="#__codelineno-12-94"></a>
<a id="__codelineno-12-95" name="__codelineno-12-95" href="#__codelineno-12-95"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LEOPOD</span>
<a id="__codelineno-12-96" name="__codelineno-12-96" href="#__codelineno-12-96"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|-</span>
<a id="__codelineno-12-97" name="__codelineno-12-97" href="#__codelineno-12-97"></a><span class="w">    </span><span class="no">Precise Orbit Determination for a Low Earth Orbiting Satellites based on</span>
<a id="__codelineno-12-98" name="__codelineno-12-98" href="#__codelineno-12-98"></a><span class="w">    </span><span class="no">on-board GPS-measurements with phase ambiguity resolution</span>
<a id="__codelineno-12-99" name="__codelineno-12-99" href="#__codelineno-12-99"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RunBPE</span>
<a id="__codelineno-12-100" name="__codelineno-12-100" href="#__codelineno-12-100"></a><span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<a id="__codelineno-12-101" name="__codelineno-12-101" href="#__codelineno-12-101"></a><span class="w">    </span><span class="nt">pcf_file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LEOPOD</span>
<a id="__codelineno-12-102" name="__codelineno-12-102" href="#__codelineno-12-102"></a><span class="w">    </span><span class="nt">campaign</span><span class="p">:</span><span class="w"> </span><span class="nv">*campaign</span>
<a id="__codelineno-12-103" name="__codelineno-12-103" href="#__codelineno-12-103"></a><span class="w">    </span><span class="nt">year</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.year}'</span>
<a id="__codelineno-12-104" name="__codelineno-12-104" href="#__codelineno-12-104"></a><span class="w">    </span><span class="nt">session</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-105" name="__codelineno-12-105" href="#__codelineno-12-105"></a><span class="w">    </span><span class="nt">sysout</span><span class="p">:</span><span class="w"> </span><span class="s">'LEOPOD_{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-106" name="__codelineno-12-106" href="#__codelineno-12-106"></a><span class="w">    </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="s">'LEOPOD_{date.doy:0&gt;3d}0.RUN'</span>
<a id="__codelineno-12-107" name="__codelineno-12-107" href="#__codelineno-12-107"></a><span class="w">    </span><span class="nt">taskid</span><span class="p">:</span><span class="w"> </span><span class="s">'LEOPOD_{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-108" name="__codelineno-12-108" href="#__codelineno-12-108"></a><span class="w">  </span><span class="nt">parameters</span><span class="p">:</span>
<a id="__codelineno-12-109" name="__codelineno-12-109" href="#__codelineno-12-109"></a><span class="w">    </span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="kt">!DateRange</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">beg</span><span class="p">:</span><span class="w"> </span><span class="nv">*beg</span><span class="p p-Indicator">,</span><span class="nt"> end</span><span class="p">:</span><span class="w"> </span><span class="nv">*end</span><span class="p p-Indicator">}</span>
<a id="__codelineno-12-110" name="__codelineno-12-110" href="#__codelineno-12-110"></a>
<a id="__codelineno-12-111" name="__codelineno-12-111" href="#__codelineno-12-111"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SLRVAL</span>
<a id="__codelineno-12-112" name="__codelineno-12-112" href="#__codelineno-12-112"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|-</span>
<a id="__codelineno-12-113" name="__codelineno-12-113" href="#__codelineno-12-113"></a><span class="w">    </span><span class="no">Validation of an existing GNSS or LEO orbit using SLR measurements</span>
<a id="__codelineno-12-114" name="__codelineno-12-114" href="#__codelineno-12-114"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RunBPE</span>
<a id="__codelineno-12-115" name="__codelineno-12-115" href="#__codelineno-12-115"></a><span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<a id="__codelineno-12-116" name="__codelineno-12-116" href="#__codelineno-12-116"></a><span class="w">    </span><span class="nt">pcf_file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SLRVAL</span>
<a id="__codelineno-12-117" name="__codelineno-12-117" href="#__codelineno-12-117"></a><span class="w">    </span><span class="nt">campaign</span><span class="p">:</span><span class="w"> </span><span class="nv">*campaign</span>
<a id="__codelineno-12-118" name="__codelineno-12-118" href="#__codelineno-12-118"></a><span class="w">    </span><span class="nt">year</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.year}'</span>
<a id="__codelineno-12-119" name="__codelineno-12-119" href="#__codelineno-12-119"></a><span class="w">    </span><span class="nt">session</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-120" name="__codelineno-12-120" href="#__codelineno-12-120"></a><span class="w">    </span><span class="nt">sysout</span><span class="p">:</span><span class="w"> </span><span class="s">'SLRVAL_{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-121" name="__codelineno-12-121" href="#__codelineno-12-121"></a><span class="w">    </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="s">'SLRVAL_{date.doy:0&gt;3d}0.RUN'</span>
<a id="__codelineno-12-122" name="__codelineno-12-122" href="#__codelineno-12-122"></a><span class="w">    </span><span class="nt">taskid</span><span class="p">:</span><span class="w"> </span><span class="s">'SLRVAL_{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-123" name="__codelineno-12-123" href="#__codelineno-12-123"></a><span class="w">  </span><span class="nt">parameters</span><span class="p">:</span>
<a id="__codelineno-12-124" name="__codelineno-12-124" href="#__codelineno-12-124"></a><span class="w">    </span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dates</span>
<a id="__codelineno-12-125" name="__codelineno-12-125" href="#__codelineno-12-125"></a>
<a id="__codelineno-12-126" name="__codelineno-12-126" href="#__codelineno-12-126"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ITRF</span>
<a id="__codelineno-12-127" name="__codelineno-12-127" href="#__codelineno-12-127"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|-</span>
<a id="__codelineno-12-128" name="__codelineno-12-128" href="#__codelineno-12-128"></a><span class="w">    </span><span class="no">Derives a coordinate and linear velocity approximation from the ITRF</span>
<a id="__codelineno-12-129" name="__codelineno-12-129" href="#__codelineno-12-129"></a><span class="w">    </span><span class="no">solution containing non-linear PSD corrections</span>
<a id="__codelineno-12-130" name="__codelineno-12-130" href="#__codelineno-12-130"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RunBPE</span>
<a id="__codelineno-12-131" name="__codelineno-12-131" href="#__codelineno-12-131"></a><span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<a id="__codelineno-12-132" name="__codelineno-12-132" href="#__codelineno-12-132"></a><span class="w">    </span><span class="nt">pcf_file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ITRF</span>
<a id="__codelineno-12-133" name="__codelineno-12-133" href="#__codelineno-12-133"></a><span class="w">    </span><span class="nt">campaign</span><span class="p">:</span><span class="w"> </span><span class="nv">*campaign</span>
<a id="__codelineno-12-134" name="__codelineno-12-134" href="#__codelineno-12-134"></a><span class="w">    </span><span class="nt">year</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.year}'</span>
<a id="__codelineno-12-135" name="__codelineno-12-135" href="#__codelineno-12-135"></a><span class="w">    </span><span class="nt">session</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-136" name="__codelineno-12-136" href="#__codelineno-12-136"></a><span class="w">    </span><span class="nt">sysout</span><span class="p">:</span><span class="w"> </span><span class="s">'ITRF_{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-137" name="__codelineno-12-137" href="#__codelineno-12-137"></a><span class="w">    </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="s">'ITRF_{date.doy:0&gt;3d}0.RUN'</span>
<a id="__codelineno-12-138" name="__codelineno-12-138" href="#__codelineno-12-138"></a><span class="w">    </span><span class="nt">taskid</span><span class="p">:</span><span class="w"> </span><span class="s">'ITRF_{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-12-139" name="__codelineno-12-139" href="#__codelineno-12-139"></a><span class="w">  </span><span class="nt">parameters</span><span class="p">:</span>
<a id="__codelineno-12-140" name="__codelineno-12-140" href="#__codelineno-12-140"></a><span class="w">    </span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dates</span>
<a id="__codelineno-12-141" name="__codelineno-12-141" href="#__codelineno-12-141"></a>
<a id="__codelineno-12-142" name="__codelineno-12-142" href="#__codelineno-12-142"></a><span class="nt">sources</span><span class="p">:</span>
<a id="__codelineno-12-143" name="__codelineno-12-143" href="#__codelineno-12-143"></a>
<a id="__codelineno-12-144" name="__codelineno-12-144" href="#__codelineno-12-144"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ITRF14</span>
<a id="__codelineno-12-145" name="__codelineno-12-145" href="#__codelineno-12-145"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IERS data needed for the EXAMPLE campaign</span>
<a id="__codelineno-12-146" name="__codelineno-12-146" href="#__codelineno-12-146"></a><span class="w">  </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://datacenter.iers.org/products/reference-systems/terrestrial/itrf/itrf2014/</span>
<a id="__codelineno-12-147" name="__codelineno-12-147" href="#__codelineno-12-147"></a><span class="w">  </span><span class="nt">filenames</span><span class="p">:</span>
<a id="__codelineno-12-148" name="__codelineno-12-148" href="#__codelineno-12-148"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ITRF2014-IGS-TRF.SNX.gz</span><span class="w">  </span><span class="c1"># 1.4 GB</span>
<a id="__codelineno-12-149" name="__codelineno-12-149" href="#__codelineno-12-149"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ITRF2014-psd-gnss.dat</span><span class="w">  </span><span class="c1"># 38 KB</span>
<a id="__codelineno-12-150" name="__codelineno-12-150" href="#__codelineno-12-150"></a><span class="w">  </span><span class="nt">destination</span><span class="p">:</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*D</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">ITRF14</span><span class="p p-Indicator">]</span>
</code></pre></div>
</details>
<p>What follows is a description of the contents in each main section of the
campaign-specific configuration file.</p>
<h3 id="the-metadata-section">The <code>metadata</code> section<a class="headerlink" href="#the-metadata-section" title="Permanent link">¶</a></h3>
<p>The <code>metadata</code> section is there, because the data written here can be referred
to in the rest of the document using the YAML anchors [the words starting with
<code>&amp;...</code>] prefixing the values for each key in the section. The keys are seen in
the task lists, which is explained below.</p>
<div class="highlight"><span class="filename">Campaign metadata</span><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="nt">metadata</span><span class="p">:</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;version</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.3.0</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">  </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;username</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">USERNAME</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">  </span><span class="nt">created</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;created</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2024-04-08</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">  </span><span class="nt">template</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;template</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">  </span><span class="nt">campaign</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;campaign</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EXAMPLE</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">  </span><span class="nt">beg</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;beg</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2019-02-13</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">  </span><span class="nt">end</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;end</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2019-02-14</span>
</code></pre></div>
<p>The <code>metadata</code> section contains data about the campaign. The first four items in
the mapping contain the context in which the campaign was created. <code>version</code>
refers to the AutoBernese version, <code>username</code> is the user that created the
campaign, <code>created</code> is the campaign-creation time, and <code>template</code> is the
filename without suffix for the campaign template that was used to create the
[in this case <code>example.yaml</code>].</p>
<p>The last three items are shortcuts available, primarily, for the tasks in the
<code>tasks</code> section. The string value in <code>campaign</code> is the name of the directory in
the campaign directory containing the Bernese campaign. The <em>YAML anchor</em>
<code>&amp;campaign</code> can be resolved in other places in the YAML document to re-use the
string value, in this case <code>EXAMPLE</code>. The same is the case for the items <code>beg</code>
and <code>end</code> which denote the beginning and end date [both included] that the
campaign covers.</p>
<div class="admonition tip">
<p class="admonition-title">Key idea</p>
<p>This is particularly useful for specifying a BPE task to be run for the
campaign, since the campaign name, thanks to the YAML specification, need not be
repeated explicitly, but can be written once. Similarly, as illustrated, one may
use the beginning and end dates to define the beginning and end date for which a
given task needs to be run.</p>
</div>
<h3 id="the-environment-section">The <code>environment</code> section<a class="headerlink" href="#the-environment-section" title="Permanent link">¶</a></h3>
<p>Adding an <code>environment</code> section to a campaign configuration, you are able to set
or update environment variables for the given campaign at runtime. The variables
are set after the campaign configuration has been loaded, so it affects only
actions invoked by AutoBernese afterwards which rely on these variables.</p>
<p>For Bernese, campaign-specific input can be defined in a single location from
which values are created/updated at runtime, 1) dynamically, changing
directories, before running Bernese, and 2) propagating input data to <code>.PCF</code>
files and scripts using them.</p>
<p>This addresses three issues:</p>
<ul>
<li>
<p><strong>Reproducibility</strong></p>
<p>By default, each user has their own Bernese-user environment (the directory
<code>$U</code>) with <code>.PCF</code> files and options set for their work. These files require
effort to maintain, and different users doing the same calculations, might
have diverging settings in their user-environment. This can be a problem.</p>
<p>Settings should come from a single source of truth if one wants to maintain
a high-quality workflow and avoid human errors.</p>
</li>
<li>
<p><strong>Adaptability</strong></p>
<p>The <code>.PCF</code> files in a Bernese-user environment also have variables for
easier re-use throughout the file. This makes them easier to maintain and
adapt for campaigns of the same type. The values of these variables can be
set from existing environment variables, which means that users can avoid
changing the <code>.PCF</code> file itself and thus use the same file across different
campaigns. This adaptability is great.</p>
<p>But as with the need for reproducibility, having a single source of settings
reduces maintenance effort and improves quality assurrance, by needing fewer
mechanisms for changing those settings, dynamically.</p>
</li>
<li>
<p><strong>Separation of concerns</strong></p>
<p>Having all one's critical <code>.PCF</code> files and scripts in one directory, and
maybe having some <code>.PCF</code> files use the same <code>OPT</code>-directories for their
input, can be good for reproducibility and adaptability.</p>
<p>But the maintenance effort increases, when complexity of the file
organisation and functionality dependence increases. The overview may be
lost and/or require a specialist to see the consequences of changes in
shared <code>.INP</code> files and scripts. Testing also becomes harder with increasing
complexity. If there is no testing done to see what these consequences might
be, it is not easy to ascertain the quality of the results that come out.</p>
<p>Similarly, a user might share a common workflow with colleagues in other
organisations. Having the workflow stored separate from one's own
user-environment allows for a much cleaner way to maintain and test this
workflow, but also to share it, e.g. using distributed version control
systems such as Git or simply copying from a shared FTP server.</p>
</li>
</ul>
<p>The <code>environment</code> section solves these issues in the following ways:</p>
<ol>
<li>
<p>A user should be able to specify what directory to use as for a given
    campaign in order to separate workflows between different campaign types,
    thus decreasing maintenaince effort and allow them to, easily, share
    workflows with other organisations.</p>
<p>The example below shows how to do this, by <em>changing</em> the variable <code>$U</code> to
point to another directory.</p>
</li>
<li>
<p>A user should be able to change or add environment variables as needed for
    different campaigns, thus having a single source from which to control the
    variable input in e.g. <code>.PCF</code> files, and in turn make use of these files for
    different campaigns easier.</p>
<p>The example below shows how a new environment variable
<code>AB_PATH_CAMPAIGN_REFDIR</code> is defined and added during runtime. Its value, a
path to the given campaign, is thus available to any software component run
by AutoBernese using this as input.</p>
</li>
</ol>
<div class="highlight"><span class="filename">Custom environment variables for a campaign</span><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nt">environment</span><span class="p">:</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">variable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">U</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">  </span><span class="c1"># Use a campaign-specific directory with only the needed PCF files and settings</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">  </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*U</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">..</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">campaign_type</span><span class="p p-Indicator">]</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="c1"># Set a variable that can be used e.g. inside the the campaign-specific PCF files.</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">variable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">AB_PATH_CAMPAIGN_REFDIR</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">  </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*D</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">REF54</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">*campaign</span><span class="p p-Indicator">]</span>
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Is this safe?</p>
<p><strong>Answer:</strong> Yes.</p>
<p>The user may set/change their environment variables before execution of any
command, so the mutation of any variable is already possible.</p>
</div>
<p>Redirection is a powerful thing and can be done at many levels, and one of the
main powers of Bernese GNSS Software is the use of environment variables to
define where things are located. AutoBernese is designed to take advantage of
this without forcing the user to have to re-structure their entire workflow
setup, but, instead, make it easier to use the existing abstractions and
centralise control at the campaign-level, not as a requirement, but as a
liberating alternative.</p>
<h3 id="the-tasks-section">The <code>tasks</code> section<a class="headerlink" href="#the-tasks-section" title="Permanent link">¶</a></h3>
<p>When <em>running</em> a campaign using the <code>ab campaign run</code> command, AutoBernese looks
in the <code>tasks</code> section of the configuration file, loads the selected task
definitions and runs the tasks they define in the order they are defined.</p>
<p>The following is an example of a single task definition which illustrates the
features implemented for our primary usecase: It instructs AutoBernese to run
the Bernese Processing Engine for each day in the given campaign. The repetitive
pattern is encoded once as a template, and the actual sessions run are based on
a set of parameters, here a single one, the <code>date</code> for which to run the BPE:</p>
<div class="highlight"><span class="filename">Example of a task definition</span><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="nt">tasks</span><span class="p">:</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BPE_PPP</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run the BPE using PPP.PCF</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RunBPE</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="w">    </span><span class="nt">pcf_file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PPP</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="w">    </span><span class="nt">campaign</span><span class="p">:</span><span class="w"> </span><span class="nv">*campaign</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="w">    </span><span class="nt">year</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.year}'</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="w">    </span><span class="nt">session</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="w">    </span><span class="nt">sysout</span><span class="p">:</span><span class="w"> </span><span class="s">'PPP_{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="w">    </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="s">'PPP_{date.doy:0&gt;3d}0.RUN'</span>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="w">    </span><span class="nt">taskid</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PPP</span>
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="w">  </span><span class="nt">parameters</span><span class="p">:</span>
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="w">    </span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="kt">!DateRange</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">beg</span><span class="p">:</span><span class="w"> </span><span class="nv">*beg</span><span class="p p-Indicator">,</span><span class="nt"> end</span><span class="p">:</span><span class="w"> </span><span class="nv">*end</span><span class="p p-Indicator">}</span>
</code></pre></div>
<p>As seen, the <code>campaign</code>-argument gets its value by referencing the YAML alias
<code>*campaign</code> which in turn is defined in the <code>metadata</code> section of the
configuration file.</p>
<p>Arguments <code>year</code>, <code>session</code>, <code>sysout</code> and <code>status</code> use the <a href="https://docs.python.org/3/library/string.html#formatstrings">Python format-string
syntax</a> to access the four-digit year or day-of-year [doy]
of the parameter <code>date</code>.</p>
<p>As mentioned, the dates that <code>date</code> refers to are the ones covering the
campaign. The sequence is generated at runtime, when the YAML aliases <code>*beg</code> and
<code>*end</code> are sent to a custom constructor in AutoBernese by using the custom YAML
tag <code>!DateRange</code> in front of the mapping.</p>
<h4 id="execution-order">Execution order<a class="headerlink" href="#execution-order" title="Permanent link">¶</a></h4>
<p>In general, task definitions can be seen as separate steps, and the tasks they
define are sub-steps. The order in which task definitions are written in the
configuration file, is the order in which they will be executed. The obvious
reason for this is the need for imposing the logical structure of the workflow
to the system performing the tasks.</p>
<p>The task-definition tasks are essentially running the same function with
different arguments. As mentioned, tasks are executed sequentially, in the order
they are defined. A task thus has a fixed thing to run, with only the actual
arguments being varied. The argument permutations are generated so that the
top-most parameter being used changes the slowest, as it is only going through
its possible values once. The next parameter goes through its values twice, and
so on to the bottom-most parameter which goes through all its values as many
times as there are parameters above it plus one.</p>
<p>In practise this means that one should consider the order of parameters, when
writing a task definition.</p>
<div class="admonition tip">
<p class="admonition-title">Example</p>
<p>In the tasks below, the only difference is in the order of entries in the
parameter section.</p>
<p>The two examples may do the same thing, but the order of the parameter
permutations will be different, and thus the order in which each call to to the
underlying API function.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="nt">tasks</span><span class="p">:</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EXAMPLE_1</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Non-existing dummy task</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SomeExample</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="w">    </span><span class="nt">arg1</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.year}'</span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="w">    </span><span class="nt">arg2</span><span class="p">:</span><span class="w"> </span><span class="s">'{station}'</span>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="w">  </span><span class="nt">parameters</span><span class="p">:</span>
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="w">    </span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">1990-01-01</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">2000-01-01</span><span class="p p-Indicator">]</span>
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="w">    </span><span class="nt">station</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">aaaa</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">bbbb</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">cccc</span><span class="p p-Indicator">]</span>
<a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>
<a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EXAMPLE_2</span>
<a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Non-existing dummy task</span>
<a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SomeExample</span>
<a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a><span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a><span class="w">    </span><span class="nt">arg1</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.year}'</span>
<a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a><span class="w">    </span><span class="nt">arg2</span><span class="p">:</span><span class="w"> </span><span class="s">'{station}'</span>
<a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a><span class="w">  </span><span class="nt">parameters</span><span class="p">:</span>
<a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a><span class="w">    </span><span class="nt">station</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">aaaa</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">bbbb</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">cccc</span><span class="p p-Indicator">]</span>
<a id="__codelineno-16-21" name="__codelineno-16-21" href="#__codelineno-16-21"></a><span class="w">    </span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">1990-01-01</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">2000-01-01</span><span class="p p-Indicator">]</span>
</code></pre></div>
<p>For the task <code>EXAMPLE_1</code>, the permutations will be:</p>
<div class="highlight"><span class="filename">Permutation order for EXAMPLE_1</span><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="p p-Indicator">[</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">  </span><span class="p p-Indicator">{</span><span class="s">"arg1"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"1990"</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">"arg2"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"aaaa"</span><span class="p p-Indicator">},</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">  </span><span class="p p-Indicator">{</span><span class="s">"arg1"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"1990"</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">"arg2"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"bbbb"</span><span class="p p-Indicator">},</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">  </span><span class="p p-Indicator">{</span><span class="s">"arg1"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"1990"</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">"arg2"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"cccc"</span><span class="p p-Indicator">},</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">  </span><span class="p p-Indicator">{</span><span class="s">"arg1"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"2000"</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">"arg2"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"aaaa"</span><span class="p p-Indicator">},</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">  </span><span class="p p-Indicator">{</span><span class="s">"arg1"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"2000"</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">"arg2"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"bbbb"</span><span class="p p-Indicator">},</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">  </span><span class="p p-Indicator">{</span><span class="s">"arg1"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"2000"</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">"arg2"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"cccc"</span><span class="p p-Indicator">},</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="p p-Indicator">]</span>
</code></pre></div>
<p>And for the task <code>EXAMPLE_2</code>, the permutations come in this order:</p>
<div class="highlight"><span class="filename">Permutation order for EXAMPLE_2</span><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="p p-Indicator">[</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">  </span><span class="p p-Indicator">{</span><span class="s">"arg1"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"1990"</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">"arg2"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"aaaa"</span><span class="p p-Indicator">},</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">  </span><span class="p p-Indicator">{</span><span class="s">"arg1"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"2000"</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">"arg2"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"aaaa"</span><span class="p p-Indicator">},</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="w">  </span><span class="p p-Indicator">{</span><span class="s">"arg1"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"1990"</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">"arg2"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"bbbb"</span><span class="p p-Indicator">},</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">  </span><span class="p p-Indicator">{</span><span class="s">"arg1"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"2000"</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">"arg2"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"bbbb"</span><span class="p p-Indicator">},</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="w">  </span><span class="p p-Indicator">{</span><span class="s">"arg1"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"1990"</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">"arg2"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"cccc"</span><span class="p p-Indicator">},</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="w">  </span><span class="p p-Indicator">{</span><span class="s">"arg1"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"2000"</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">"arg2"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"cccc"</span><span class="p p-Indicator">},</span>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="p p-Indicator">]</span>
</code></pre></div>
<p>The ordering in the permutation lists above is just to show, what is held
fixed first, second, and so on, when the permutations are build by the
system.</p>
</div>
<p>If the order of execution for a task definition's tasks does not matter, it is
possible to have them run, asynchronously, by adding the keyword <code>asynchronous:
True</code> (the default is <code>False</code>).</p>
<p>This option is aimed at computationally inexpensive tasks that mostly perform
(rather, wait for) input/output during execution. If using this option to speed
up execution, care should be taken, when certain tasks still need to be
performed in a determined order.</p>
<p>When set to true, tasks resolved by a given task definition are not guaranteed
to run in the order defined by the task definition parameters. However, note
that the order of task definitions is always kept the same as defined in the
configuration.</p>
<div class="admonition tip">
<p class="admonition-title">Example</p>
<p>Task definitions must be organised, carefully, if the order of certain tasks
are important.</p>
<p>For example, it might be tempting to combine all BPE tasks in the following
manner:</p>
<div class="highlight"><span class="filename">Example of a task definition</span><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="nt">tasks</span><span class="p">:</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BPE</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run all PCF files</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RunBPE</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="nt">arguments</span><span class="p">:</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">    </span><span class="nt">pcf_file</span><span class="p">:</span><span class="w"> </span><span class="s">'{pcf_file}'</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">    </span><span class="nt">campaign</span><span class="p">:</span><span class="w"> </span><span class="nv">*campaign</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="w">    </span><span class="nt">year</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.year}'</span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="w">    </span><span class="nt">session</span><span class="p">:</span><span class="w"> </span><span class="s">'{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="w">    </span><span class="nt">sysout</span><span class="p">:</span><span class="w"> </span><span class="s">'{pcf_file}_{date.doy:0&gt;3d}0'</span>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="w">    </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="s">'{pcf_file}_{date.doy:0&gt;3d}0.RUN'</span>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="w">    </span><span class="nt">taskid</span><span class="p">:</span><span class="w"> </span><span class="s">'{pcf_file}'</span>
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="nt">parameters</span><span class="p">:</span>
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="w">    </span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="kt">!DateRange</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">beg</span><span class="p">:</span><span class="w"> </span><span class="nv">*beg</span><span class="p p-Indicator">,</span><span class="nt"> end</span><span class="p">:</span><span class="w"> </span><span class="nv">*end</span><span class="p p-Indicator">}</span>
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a><span class="w">    </span><span class="nt">pcf_file</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">PRODUCE_RESULTS</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">CONSUME_RESULTS</span><span class="p p-Indicator">]</span>
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a><span class="nt">asynchronous</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
</code></pre></div>
<p>But, since all tasks in this task definition are executed, asynchronously, the
event loop running the tasks does not know the necessary order. To obtain this
order, while still running, asynchronously, one would need to have two
asynchronous task definitions in the supposed order.</p>
</div>
<h4 id="the-task-definition">The task definition<a class="headerlink" href="#the-task-definition" title="Permanent link">¶</a></h4>
<p>As seen in the above example, a task definition is a mapping that in a compact
way may define a larger set of tasks. It names an API-level function to run, the
arguments needed and possible parameters used in the argument mapping. When
loaded, the task definition expands to a set of concrete tasks that are run with
the <code>run</code> sub-command. So far, tasks are run, sequentially.</p>
<p>A task definition needs a unique <code>identifier</code>, a <code>description</code>, something to
<code>run</code> as a task, <code>arguments</code> (if needed) for the task and <code>parameters</code> (if
specified in the <code>arguments</code> section) that will be used to create a set of
concrete tasks based on the task definition. If no parameters are used, the
arguments provided are used to perform a single task. If no arguments are
needed, the API-level function is run as a single task with no arguments given
to the function.</p>
<p>Requirements:</p>
<ul>
<li>
<p>The identifier must be without whitespace. It is used, when selecting only
    specific tasks definitions. (The concrete tasks may still be several.)</p>
</li>
<li>
<p>The description can be long, but short descriptions are easier to read when
    printed to the terminal.</p>
</li>
<li>
<p><code>run</code> needs a key to a mapping, currently, hard-coded in AutoBernese; or a
    reference to the API-level Python function that you want to run.</p>
</li>
<li>
<p><code>dispatch_with</code> needs a value in the same way as the <code>run</code> part. If not
    present, the arguments are sent directly to the API-level function refered
    to by <code>run</code>. When defined, the arguments are first sent through the function
    pointed to by <code>dispatch_with</code> to be pre-processed or to convert their input
    to match the signature of the API-level function.</p>
<p><strong>The point of the dispatch function is to make independent API-level calls
move up to a corresponding task so that the task runner may handle the
delegation of ressources at a finer level.</strong></p>
</li>
<li>
<p>Keyword arguments inside the <code>arguments</code> section contain arguments readable
    by the function in <code>run</code> or, if used, <code>dispatch_with</code>.</p>
</li>
<li>
<p>Any keyword arguments using string templates, must have a key of the same
    name in the <code>parameters</code> section. The value must be a sequence or iterable
    of values that the parameter may take inside any of the argument string
    template formats.</p>
</li>
<li>
<p><code>asynchronous</code> is not needed, but when set it must be either <code>True</code> or
    <code>False</code> (the latter being the default). It determines the scheduling of
    tasks at the task-definition level.</p>
</li>
</ul>
<div class="admonition info">
<p class="admonition-title">More examples using built-in <code>run</code> and <code>dispatch_with</code> shortcuts</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:6"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><input id="__tabbed_1_2" name="__tabbed_1" type="radio"><input id="__tabbed_1_3" name="__tabbed_1" type="radio"><input id="__tabbed_1_4" name="__tabbed_1" type="radio"><input id="__tabbed_1_5" name="__tabbed_1" type="radio"><input id="__tabbed_1_6" name="__tabbed_1" type="radio"><div class="tabbed-labels"><label for="__tabbed_1_1"><code>Compress</code></label><label for="__tabbed_1_2"><code>Compress</code> (wildcards)</label><label for="__tabbed_1_3"><code>SFTPUpload</code></label><label for="__tabbed_1_4"><code>Sitelogs2STAFile</code></label><label for="__tabbed_1_5"><code>BuildVMF</code></label><label for="__tabbed_1_6"><code>CheckVMF</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>This example uses <code>Compress</code> which points to a function that takes a concrete
path. If the filenames are fully specified, the task definition only needs the
<code>run</code> key.</p>
<div class="highlight"><span class="filename">Example of a task definition</span><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="nt">tasks</span><span class="p">:</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GZIP</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Compress results using gzip</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Compress</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">    </span><span class="nt">fname</span><span class="p">:</span><span class="w"> </span><span class="kt">!PathStr</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*P</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">*campaign</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">'{filename}'</span><span class="p p-Indicator">]</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">  </span><span class="nt">parameters</span><span class="p">:</span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">    </span><span class="nt">filename</span><span class="p">:</span>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/OUT/MY.PRC</span>
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/SOL/MY.SNX</span>
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/ATM/MY.TRO</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>If the filenames are given with wildcards, the <code>dispatch_with</code> key must be set
to <code>DispatchCompress</code> which is a shortcut to a function that resolves any
wildcards in the given paths.</p>
<div class="highlight"><span class="filename">Example of a task definition</span><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="nt">tasks</span><span class="p">:</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GZIP</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Compress results using gzip</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Compress</span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">  </span><span class="nt">dispatch_with</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DispatchCompress</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="w">    </span><span class="nt">fname</span><span class="p">:</span><span class="w"> </span><span class="kt">!PathStr</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*P</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">*campaign</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">'{filename}'</span><span class="p p-Indicator">]</span>
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="w">  </span><span class="nt">parameters</span><span class="p">:</span>
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="w">    </span><span class="nt">filename</span><span class="p">:</span>
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/OUT/*.PRC</span>
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/SOL/*.SNX</span>
<a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/ATM/*.TRO</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>This example uses <code>SFTPUpload</code> which points to a function that takes the list of
files and the single remote directory and transfers them in a batch operation to
the server.</p>
<p>The remote directory tree is created, before the files are transferred.</p>
<p>AutoBernese uses the <code>sftp</code> command line application in batch mode ("<code>-b</code>"), which
requires non-interactive authentication. As a user of AutoBernese you are
responsible for the correct SSH configuration.</p>
<div class="highlight"><span class="filename">Example of a task definition</span><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nt">tasks</span><span class="p">:</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SFTP_TO_COLLABORATION</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Upload campaign results to collaboration directory</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SFTPUpload</span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="w">    </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ftp.example.com</span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="w">    </span><span class="nt">pairs</span><span class="p">:</span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">fname</span><span class="p">:</span><span class="w"> </span><span class="kt">!PathStr</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*P</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">*campaign</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">'{filename}'</span><span class="p p-Indicator">]</span>
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="w">      </span><span class="nt">remote_dir</span><span class="p">:</span><span class="w"> </span><span class="kt">!PathStr</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Collaboration/GNSS/</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">'{date.gps_week}'</span><span class="p p-Indicator">]</span>
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="w">  </span><span class="nt">parameters</span><span class="p">:</span>
<a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="w">    </span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*beg</span><span class="p p-Indicator">]</span>
<a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="w">    </span><span class="nt">filename</span><span class="p">:</span>
<a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/STA/*.CRD</span>
<a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/OUT/*.PRC.gz</span>
<a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/OUT/*.SUM</span>
<a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/SOL/*.SNX.gz</span>
<a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/ATM/*.TRO.gz</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>This example uses <code>Sitelogs2STAFile</code> which builds a <code>.STA</code>-file from existing
sitelog-files.</p>
<p>The shortcut <code>Sitelogs2STAFile</code> points to a function that takes the same input
as the needed for the stand-alone command (see the command reference).</p>
<div class="highlight"><span class="filename">Example of a task definition</span><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nt">tasks</span><span class="p">:</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SITELOGS2STA_DNK</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Derive STA file from sitelog files</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Sitelogs2STAFile</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="w">    </span><span class="nt">sitelogs</span><span class="p">:</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*D</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">sitelogs</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">'*dnk*log'</span><span class="p p-Indicator">]</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="w">    </span><span class="nt">output_sta_file</span><span class="p">:</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*D</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">sitelogs_DNK.STA</span><span class="p p-Indicator">]</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>This example uses <code>BuildVMF</code> which builds day files with the troposphere-model
data. Input files are assumed to exist.</p>
<p>The shortcut <code>BuildVMF</code> points to a function that takes a single
<code>DayFileBuilder</code> instance as input and thus requires a dispatch function to
convert the input arguments to something that the runner can run.</p>
<p>To learn more of how the input can be generated, see the command-line reference
on the stand-alone tools for doing the exact same thing.</p>
<div class="highlight"><span class="filename">Example of a task definition</span><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="nt">tasks</span><span class="p">:</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BUILD_VMF</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Build VMF GRD files from hour files</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BuildVMF</span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">  </span><span class="nt">dispatch_with</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DispatchVMF</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="w">    </span><span class="nt">ipath</span><span class="p">:</span><span class="w"> </span><span class="nv">*CORE_TROPO_OP_DIR_H</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="w">    </span><span class="nt">opath</span><span class="p">:</span><span class="w"> </span><span class="nv">*CORE_TROPO_OP_DIR_GRD</span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="w">    </span><span class="nt">beg</span><span class="p">:</span><span class="w"> </span><span class="nv">*beg</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="w">    </span><span class="nt">end</span><span class="p">:</span><span class="w"> </span><span class="nv">*end</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>This example uses <code>CheckVMF</code> which checks that day files were correctly
concatenated from the input troposphere-model data.</p>
<p>The shortcut <code>CheckVMF</code> points to a function that takes a single
<code>DayFileBuilder</code> instance as input and thus requires a dispatch function to
convert the input arguments to something that the runner can run.</p>
<p>To learn more of how the input can be generated, see the command-line reference
on the stand-alone tools for doing the exact same thing.</p>
<div class="highlight"><span class="filename">Example of a task definition</span><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="nt">tasks</span><span class="p">:</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CHECK_VMF</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Check VMF GRD files from hour files</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CheckVMF</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="w">  </span><span class="nt">dispatch_with</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DispatchVMF</span>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="w">  </span><span class="nt">arguments</span><span class="p">:</span>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="w">    </span><span class="nt">ipath</span><span class="p">:</span><span class="w"> </span><span class="nv">*CORE_TROPO_OP_DIR_H</span>
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="w">    </span><span class="nt">opath</span><span class="p">:</span><span class="w"> </span><span class="nv">*CORE_TROPO_OP_DIR_GRD</span>
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="w">    </span><span class="nt">beg</span><span class="p">:</span><span class="w"> </span><span class="nv">*beg</span>
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="w">    </span><span class="nt">end</span><span class="p">:</span><span class="w"> </span><span class="nv">*end</span>
</code></pre></div>
</div>
</div>
</div>
</div>
<h3 id="the-sources-section">The <code>sources</code> section<a class="headerlink" href="#the-sources-section" title="Permanent link">¶</a></h3>
<p>Campaign-specific sources of external data can be specified in a <code>sources</code> section
in the campaign configuration.</p>
<p>As illustrated in the EXAMPLE-campaign configuration file, a single FTP source
with two files needed for the built-in process-control file <code>ITRF.PCF</code> is
included so that the data can be downloaded to the DATAPOOL area to be used in
this (and in this case, other) campaigns.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="nt">sources</span><span class="p">:</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ITRF14</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IERS data needed for the EXAMPLE campaign</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="w">  </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://datacenter.iers.org/products/reference-systems/terrestrial/itrf/itrf2014/</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="w">  </span><span class="nt">filenames</span><span class="p">:</span>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ITRF2014-IGS-TRF.SNX.gz</span><span class="w">  </span><span class="c1"># 1.4 GB</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ITRF2014-psd-gnss.dat</span><span class="w">  </span><span class="c1"># 38 KB</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="w">  </span><span class="nt">destination</span><span class="p">:</span><span class="w"> </span><span class="kt">!Path</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*D</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">ITRF14</span><span class="p p-Indicator">]</span>
</code></pre></div>
<h3 id="the-clean-section">The <code>clean</code> section<a class="headerlink" href="#the-clean-section" title="Permanent link">¶</a></h3>
<p>With the campaign command <code>clean</code>, it is possible to specify directories at the
root of the campaign directory which will have their entire content deleted, if
the user grants it when prompted.</p>
<p>To use the <code>clean</code> command, add a <code>clean</code> section to the campaign (template)
configuration and provide a list of directories that exist at the root of the
campaign.</p>
<div class="highlight"><span class="filename">Example of a clean section in a campaign-specific configuration file</span><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="nt">clean</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">SOL</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">OUT</span><span class="p p-Indicator">]</span>
</code></pre></div>
<h2 id="campaign-templates">Campaign templates<a class="headerlink" href="#campaign-templates" title="Permanent link">¶</a></h2>
<p>A main feature of AutoBernese is the ability to store common campaign settings
as templates and use them to create campaigns of the same type. This will
further speed up common workflows, since newly-created Bernese campaigns are
ready to be 'run' with AutoBernese. By adding different templates for different
campaign types, users avoid having to copy over settings to set environment
variables, download data, and run tasks.</p>
<p>This <em>campaign type</em> is defined by a template campaign-configuration file in
the <code>templates</code> directory of the AutoBernese runtime directory.</p>
<div class="highlight"><span class="filename">Campaign-configuration template location in the AutoBernese runtime directory</span><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>/path/to/environment
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>├── autobernese
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>│   ├── (...)
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>│   └── templates        # Directory for user-created templates,
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a>│       │                # one for each campaign type
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>│       │
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>│       └── default.yaml # This default file is used as
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>│                        # template if none specified.
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>├── BERN54
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>└── (...)
</code></pre></div>
<p>The default campaign template is empty and comes with the AutoBernese package,
but is selected if none given by the user.</p>
<div class="admonition note">
<p class="admonition-title">Template maintenance</p>
<p>Over time, templates will need to be changed. Changes to templates will not
change the configuration in existing campaigns, and these would need to be
edited, manually. However, needing to 're-run' these campaigns anyway, it might
be safer to start over and create new campaigns to 're-create' the output.</p>
</div>
<h2 id="notes-on-python-string-templates-in-yaml-documents">Notes on Python-string templates in YAML documents<a class="headerlink" href="#notes-on-python-string-templates-in-yaml-documents" title="Permanent link">¶</a></h2>
<p>This section describes some caveats when using Python string template as values
in a YAML document.</p>
<p>Python has multiple ways to work with strings, and many of the string-values
given in the AutoBernese configuration files have content that requires soe
knowldge about Python's Template strings. In addition, the format of these
strings may clash with the YAML syntax, so a few potential problems and
solutions are shown below.</p>
<h3 id="caveats-on-difference-between-template-strings-and-f-string-syntax">Caveats on difference between Template strings and <code>f</code> string syntax<a class="headerlink" href="#caveats-on-difference-between-template-strings-and-f-string-syntax" title="Permanent link">¶</a></h3>
<p>This example shows the difference in Python syntax between two Python-string
types:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio"><input id="__tabbed_2_2" name="__tabbed_2" type="radio"><div class="tabbed-labels"><label for="__tabbed_2_1"><code>f</code> string</label><label for="__tabbed_2_2">String template</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">dt</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="n">date</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2019</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">13</span><span class="p">)</span>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="n">date</span><span class="o">.</span><span class="n">day</span>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="c1"># 13</span>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">date</span><span class="o">.</span><span class="n">day</span><span class="si">}</span><span class="s1">'</span>
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="c1"># '13'</span>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">date</span><span class="o">.</span><span class="n">day</span><span class="si">:</span><span class="s1">3d</span><span class="si">}</span><span class="s1">'</span>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="c1"># ' 13'</span>
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a><span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">date</span><span class="o">.</span><span class="n">day</span><span class="si">:</span><span class="s1">03d</span><span class="si">}</span><span class="s1">'</span>
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="c1"># '013'</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">dt</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="n">date</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2019</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">13</span><span class="p">)</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="n">date</span><span class="o">.</span><span class="n">day</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="c1"># 13</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="s1">'</span><span class="si">{date.day}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="c1"># '13'</span>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="s1">'</span><span class="si">{date.day:3d}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>
<a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="c1"># ' 13'</span>
<a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="s1">'</span><span class="si">{date.day:03d}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>
<a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a><span class="c1"># '013'</span>
</code></pre></div>
</div>
</div>
</div>
<p>String templates are used in the YAML files that are used as configuration-file
format.</p>
<h3 id="clash-with-the-the-yaml-syntax">Clash with the the YAML syntax<a class="headerlink" href="#clash-with-the-the-yaml-syntax" title="Permanent link">¶</a></h3>
<p>There is a subtle drawback in clarity, when the string template begins with a
template part, since it clashes with the YAML syntax for a mapping which also
begins and ends with <code>{</code> and <code>}</code>, respectively. In these cases, one must,
explicitly, put quotes around the string:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio"><input id="__tabbed_3_2" name="__tabbed_3" type="radio"><div class="tabbed-labels"><label for="__tabbed_3_1">Without explicit quotes</label><label for="__tabbed_3_2">With explicit quotes</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><span class="filename">Example</span><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">yaml</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="n">s</span> <span class="o">=</span> <span class="s2">"""</span><span class="se">\</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="s2">some configuration key: a string with </span><span class="si">{date.day}</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="s2">another configuration key: </span><span class="si">{template}</span><span class="s2"> is at the beginning of the string.</span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="s2">"""</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a># Output:
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a># ParserError: while parsing a block mapping
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>#   in "&lt;unicode string&gt;", line 1, column 1:
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>#     some configuration key: a string ...
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>#     ^
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a># expected &lt;block end&gt;, but found '&lt;scalar&gt;'
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a>#   in "&lt;unicode string&gt;", line 2, column 37:
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a>#     another configuration key: {prefix} is at the beginning of the string.
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><span class="filename">Example</span><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">yaml</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="n">s</span> <span class="o">=</span> <span class="s2">"""</span><span class="se">\</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="s2">some configuration key: a string with </span><span class="si">{date.day}</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="s2">another configuration key: '</span><span class="si">{template}</span><span class="s2"> is at the beginning of the string.'</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="s2">"""</span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a># Output:
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a># {
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>#   'some configuration key': 'a string with {date.day}',
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>#  'another configuration key': '{template} is at the beginning of the string.'
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a># }
</code></pre></div>
</div>
</div>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.expand", "navigation.top"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../javascript/asciinema-player.min.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>